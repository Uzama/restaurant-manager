{
  "version": 4,
  "terraform_version": "1.3.1",
  "serial": 5080,
  "lineage": "8e8b41e3-1656-f318-8ea2-53c07a968a41",
  "outputs": {},
  "resources": [
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "add_menue_item_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#foreach($item in $context.args.input.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n#foreach($item in $context.args.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n\n#set($process_id=$utils.autoId())\n#set($description=$util.defaultIfNullOrEmpty($ctx.args.input.description, ''))\n\n{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"INSERT INTO restaurant.menu_items (id, restaurant_username, name, description, price) VALUES ('$process_id','$context.args.input.restaurantUsername', '$context.args.input.name', '$description', '$context.args.input.price')\",\n        \"SELECT id, name, description, price FROM restaurant.menu_items WHERE id = '$process_id'\"\n    ]\n}",
            "content_base64": "I2ZvcmVhY2goJGl0ZW0gaW4gJGNvbnRleHQuYXJncy5pbnB1dC5lbnRyeVNldCgpKQogICAgI3NldCgkaXRlbS52YWx1ZT0kaXRlbS52YWx1ZS5yZXBsYWNlKCInIiwgIicnIikpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoIlwiLCAiXFxcXCIpKQogICAgI3NldCgkaXRlbS52YWx1ZT0kaXRlbS52YWx1ZS5yZXBsYWNlKCciJywgJ1xcXCInKSkKI2VuZAojZm9yZWFjaCgkaXRlbSBpbiAkY29udGV4dC5hcmdzLmVudHJ5U2V0KCkpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoIiciLCAiJyciKSkKICAgICNzZXQoJGl0ZW0udmFsdWU9JGl0ZW0udmFsdWUucmVwbGFjZSgiXCIsICJcXFxcIikpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoJyInLCAnXFxcIicpKQojZW5kCgojc2V0KCRwcm9jZXNzX2lkPSR1dGlscy5hdXRvSWQoKSkKI3NldCgkZGVzY3JpcHRpb249JHV0aWwuZGVmYXVsdElmTnVsbE9yRW1wdHkoJGN0eC5hcmdzLmlucHV0LmRlc2NyaXB0aW9uLCAnJykpCgp7CiAgICAidmVyc2lvbiI6ICIyMDE4LTA1LTI5IiwKICAgICJzdGF0ZW1lbnRzIjogWwogICAgICAgICJJTlNFUlQgSU5UTyByZXN0YXVyYW50Lm1lbnVfaXRlbXMgKGlkLCByZXN0YXVyYW50X3VzZXJuYW1lLCBuYW1lLCBkZXNjcmlwdGlvbiwgcHJpY2UpIFZBTFVFUyAoJyRwcm9jZXNzX2lkJywnJGNvbnRleHQuYXJncy5pbnB1dC5yZXN0YXVyYW50VXNlcm5hbWUnLCAnJGNvbnRleHQuYXJncy5pbnB1dC5uYW1lJywgJyRkZXNjcmlwdGlvbicsICckY29udGV4dC5hcmdzLmlucHV0LnByaWNlJykiLAogICAgICAgICJTRUxFQ1QgaWQsIG5hbWUsIGRlc2NyaXB0aW9uLCBwcmljZSBGUk9NIHJlc3RhdXJhbnQubWVudV9pdGVtcyBXSEVSRSBpZCA9ICckcHJvY2Vzc19pZCciCiAgICBdCn0=",
            "content_base64sha256": "PyqugPfp5SPTzmNu6KHNi371tkWdBnBx6oy8NkIxUkA=",
            "content_base64sha512": "hTvNigol97UAI4DhhqGjs58wfA1qiWphbwR9ewPKD9/wZt5mdpUNfOQhGQ6BAO8+19V36yGkmEY+xRxZbYd7og==",
            "content_md5": "edaaa48ebfd33362a845c1c951404873",
            "content_sha1": "3fef314a9c841c3fac690b5a0fcb1c70a37ef927",
            "content_sha256": "3f2aae80f7e9e523d3ce636ee8a1cd8b7ef5b6459d067071ea8cbc3642315240",
            "content_sha512": "853bcd8a0a25f7b5002380e186a1a3b39f307c0d6a896a616f047d7b03ca0fdff066de6676950d7ce421190e8100ef3ed7d577eb21a498463ec51c596d877ba2",
            "filename": "appsync/templates/add_menue_item_request.vtl",
            "id": "3fef314a9c841c3fac690b5a0fcb1c70a37ef927"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "add_menue_item_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[1][0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKCiR1dGlscy50b0pzb24oJHV0aWxzLnJkcy50b0pzb25PYmplY3QoJGN0eC5yZXN1bHQpWzFdWzBdKQ==",
            "content_base64sha256": "jl/Qe4LfHPs9lzhie1JKmkHl8XcRlV8QNcgCEy9Gunc=",
            "content_base64sha512": "wBw5/thqXsmJ6CuL4XJBh1CCEpTRv+Ey+n+mgW9ixwvbs6SGH3w1UBrqBEyUYSVDJwsPumm519nHzO8w9kidtA==",
            "content_md5": "9e1c940cb6d02bf1bd1a4c05e5cb802d",
            "content_sha1": "8b26730c55c5b58ab254d1ea3736e4672e9effb4",
            "content_sha256": "8e5fd07b82df1cfb3d9738627b524a9a41e5f17711955f1035c802132f46ba77",
            "content_sha512": "c01c39fed86a5ec989e82b8be172418750821294d1bfe132fa7fa6816f62c70bdbb3a4861f7c35501aea044c94612543270b0fba69b9d7d9c7ccef30f6489db4",
            "filename": "appsync/templates/add_menue_item_response.vtl",
            "id": "8b26730c55c5b58ab254d1ea3736e4672e9effb4"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "add_order_item_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#foreach($item in $context.args.input.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n#foreach($item in $context.args.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n\n#set($process_id=$utils.autoId())\n\n{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"INSERT INTO restaurant.order_items (id, order_id, menu_item_id, quantity) VALUES ('$process_id','$context.args.input.orderId', '$context.args.input.menueItemId', '$context.args.input.quantity')\",\n        \"SELECT id, order_id, menu_item_id, quantity FROM restaurant.order_items WHERE id = '$process_id'\"\n    ]\n}",
            "content_base64": "I2ZvcmVhY2goJGl0ZW0gaW4gJGNvbnRleHQuYXJncy5pbnB1dC5lbnRyeVNldCgpKQogICAgI3NldCgkaXRlbS52YWx1ZT0kaXRlbS52YWx1ZS5yZXBsYWNlKCInIiwgIicnIikpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoIlwiLCAiXFxcXCIpKQogICAgI3NldCgkaXRlbS52YWx1ZT0kaXRlbS52YWx1ZS5yZXBsYWNlKCciJywgJ1xcXCInKSkKI2VuZAojZm9yZWFjaCgkaXRlbSBpbiAkY29udGV4dC5hcmdzLmVudHJ5U2V0KCkpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoIiciLCAiJyciKSkKICAgICNzZXQoJGl0ZW0udmFsdWU9JGl0ZW0udmFsdWUucmVwbGFjZSgiXCIsICJcXFxcIikpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoJyInLCAnXFxcIicpKQojZW5kCgojc2V0KCRwcm9jZXNzX2lkPSR1dGlscy5hdXRvSWQoKSkKCnsKICAgICJ2ZXJzaW9uIjogIjIwMTgtMDUtMjkiLAogICAgInN0YXRlbWVudHMiOiBbCiAgICAgICAgIklOU0VSVCBJTlRPIHJlc3RhdXJhbnQub3JkZXJfaXRlbXMgKGlkLCBvcmRlcl9pZCwgbWVudV9pdGVtX2lkLCBxdWFudGl0eSkgVkFMVUVTICgnJHByb2Nlc3NfaWQnLCckY29udGV4dC5hcmdzLmlucHV0Lm9yZGVySWQnLCAnJGNvbnRleHQuYXJncy5pbnB1dC5tZW51ZUl0ZW1JZCcsICckY29udGV4dC5hcmdzLmlucHV0LnF1YW50aXR5JykiLAogICAgICAgICJTRUxFQ1QgaWQsIG9yZGVyX2lkLCBtZW51X2l0ZW1faWQsIHF1YW50aXR5IEZST00gcmVzdGF1cmFudC5vcmRlcl9pdGVtcyBXSEVSRSBpZCA9ICckcHJvY2Vzc19pZCciCiAgICBdCn0=",
            "content_base64sha256": "aDlum4UhwqzSKMsNJiDZmdIFqu22mA7kiHre4y5444g=",
            "content_base64sha512": "79ag/CnMy5zcx7nceBeCeXmxcyXzsqdwFMfp6/fv9RgPsu1brxHQ2Zrrq1r5ANBRHfikf18u8pFgMNaTOPsUYg==",
            "content_md5": "4c67f362df5fc46540f12493c4a0fa82",
            "content_sha1": "215463071b3f315646e592cff3629a6fb83e2569",
            "content_sha256": "68396e9b8521c2acd228cb0d2620d999d205aaedb6980ee4887adee32e78e388",
            "content_sha512": "efd6a0fc29cccb9cdcc7b9dc7817827979b17325f3b2a77014c7e9ebf7eff5180fb2ed5baf11d0d99aebab5af900d0511df8a47f5f2ef2916030d69338fb1462",
            "filename": "appsync/templates/add_order_item_request.vtl",
            "id": "215463071b3f315646e592cff3629a6fb83e2569"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "add_order_item_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[1][0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKCiR1dGlscy50b0pzb24oJHV0aWxzLnJkcy50b0pzb25PYmplY3QoJGN0eC5yZXN1bHQpWzFdWzBdKQ==",
            "content_base64sha256": "jl/Qe4LfHPs9lzhie1JKmkHl8XcRlV8QNcgCEy9Gunc=",
            "content_base64sha512": "wBw5/thqXsmJ6CuL4XJBh1CCEpTRv+Ey+n+mgW9ixwvbs6SGH3w1UBrqBEyUYSVDJwsPumm519nHzO8w9kidtA==",
            "content_md5": "9e1c940cb6d02bf1bd1a4c05e5cb802d",
            "content_sha1": "8b26730c55c5b58ab254d1ea3736e4672e9effb4",
            "content_sha256": "8e5fd07b82df1cfb3d9738627b524a9a41e5f17711955f1035c802132f46ba77",
            "content_sha512": "c01c39fed86a5ec989e82b8be172418750821294d1bfe132fa7fa6816f62c70bdbb3a4861f7c35501aea044c94612543270b0fba69b9d7d9c7ccef30f6489db4",
            "filename": "appsync/templates/add_order_item_response.vtl",
            "id": "8b26730c55c5b58ab254d1ea3736e4672e9effb4"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "appsync_schema",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "schema {\n    query: Query\n    mutation: Mutation\n}\n\ntype Query {\n    getMenue(restaurantUsername:String!): [MenueItem]\n    getRestaurant(id:String!): Restaurant!\n    listOrder(filter:ListOrder!): [Order]\n    listOrderItems(orderId:String!):[OrderItem]\n    listInvoice(restaurantUsername:String!): [Invoice]\n}\n\ntype Mutation {\n    addMenueItem(input: AddMenueItem!): MenueItem\n    deleteMenueItem(id:String!): String\n    createRestaurant(input: CreateRestaurant!): CreateResponse @aws_api_key\n    login(input: Login): LoginResponse @aws_api_key\n    deleteRestaurant(username:String!): String\n    createOrder(input: CreateOrder!): Order\n    deleteOrder(id:String!): String\n    addOrderItem(input: CreateOrderItem): OrderItem\n    updateOrderItem(input: UpdateOrderItem): OrderItem\n    removeOrderItem(input: RemoveOrderItem): String\n    createInvoice(input: CreateInvoice!): Invoice\n}\n\ninput Login {\n    email: String!\n    password: String!\n}\n\ntype LoginResponse @aws_api_key {\n    accessToken: String!\n    username: String!\n}\n\ntype MenueItem {\n    id: String\n    name: String!\n    description: String\n    price: Int!\n}\n\ninput AddMenueItem {\n    restaurantUsername: String!\n    name: String!\n    description: String\n    price: Int!\n}\n\ntype CreateResponse @aws_api_key {\n    username: String!\n    name: String!\n    address: String\n    phone: String\n}\n\ntype Restaurant {\n    username: String!\n    name: String!\n    address: String\n    phone: String\n}\n\ninput CreateRestaurant {\n    email: String!\n    password: String!\n    name: String!\n    address: String\n    phone: String\n}\n\ntype Order {\n    id: String!\n    restaurant_username: String!\n    customer_name: String!\n    customer_phone: String!\n    order_status: OrderStatus\n    order_date: String\n}\n\ninput CreateOrder {\n    restaurantUsername: String!\n    customerName: String!\n    customerPhone: String!\n}\n\ninput ListOrder {\n    restaurantUsername: String!\n    status: OrderStatus\n}\n\nenum OrderStatus {\n\treceived\n\tpreparing\n\tdone\n}\n\ntype OrderItem {\n    id: ID!\n    order_id: String!\n    menue_item_id: String!\n    quantity: Int!\n    name: String\n    price: Int\n}\n\ninput CreateOrderItem {\n    orderId: String!\n    menueItemId: String!\n    quantity: Int!\n}\n\ninput UpdateOrderItem {\n    orderId: String!\n    menueItemId: String!\n    quantity: Int!\n}\n\ninput RemoveOrderItem {\n    orderId: String!\n    menueItemId: String!\n}\n\ntype Invoice {\n    id: ID!\n    order_id: String!\n    amount: Int!\n    payment_date: String\n}\n\ninput CreateInvoice {\n    orderId: String!\n}",
            "content_base64": "c2NoZW1hIHsKICAgIHF1ZXJ5OiBRdWVyeQogICAgbXV0YXRpb246IE11dGF0aW9uCn0KCnR5cGUgUXVlcnkgewogICAgZ2V0TWVudWUocmVzdGF1cmFudFVzZXJuYW1lOlN0cmluZyEpOiBbTWVudWVJdGVtXQogICAgZ2V0UmVzdGF1cmFudChpZDpTdHJpbmchKTogUmVzdGF1cmFudCEKICAgIGxpc3RPcmRlcihmaWx0ZXI6TGlzdE9yZGVyISk6IFtPcmRlcl0KICAgIGxpc3RPcmRlckl0ZW1zKG9yZGVySWQ6U3RyaW5nISk6W09yZGVySXRlbV0KICAgIGxpc3RJbnZvaWNlKHJlc3RhdXJhbnRVc2VybmFtZTpTdHJpbmchKTogW0ludm9pY2VdCn0KCnR5cGUgTXV0YXRpb24gewogICAgYWRkTWVudWVJdGVtKGlucHV0OiBBZGRNZW51ZUl0ZW0hKTogTWVudWVJdGVtCiAgICBkZWxldGVNZW51ZUl0ZW0oaWQ6U3RyaW5nISk6IFN0cmluZwogICAgY3JlYXRlUmVzdGF1cmFudChpbnB1dDogQ3JlYXRlUmVzdGF1cmFudCEpOiBDcmVhdGVSZXNwb25zZSBAYXdzX2FwaV9rZXkKICAgIGxvZ2luKGlucHV0OiBMb2dpbik6IExvZ2luUmVzcG9uc2UgQGF3c19hcGlfa2V5CiAgICBkZWxldGVSZXN0YXVyYW50KHVzZXJuYW1lOlN0cmluZyEpOiBTdHJpbmcKICAgIGNyZWF0ZU9yZGVyKGlucHV0OiBDcmVhdGVPcmRlciEpOiBPcmRlcgogICAgZGVsZXRlT3JkZXIoaWQ6U3RyaW5nISk6IFN0cmluZwogICAgYWRkT3JkZXJJdGVtKGlucHV0OiBDcmVhdGVPcmRlckl0ZW0pOiBPcmRlckl0ZW0KICAgIHVwZGF0ZU9yZGVySXRlbShpbnB1dDogVXBkYXRlT3JkZXJJdGVtKTogT3JkZXJJdGVtCiAgICByZW1vdmVPcmRlckl0ZW0oaW5wdXQ6IFJlbW92ZU9yZGVySXRlbSk6IFN0cmluZwogICAgY3JlYXRlSW52b2ljZShpbnB1dDogQ3JlYXRlSW52b2ljZSEpOiBJbnZvaWNlCn0KCmlucHV0IExvZ2luIHsKICAgIGVtYWlsOiBTdHJpbmchCiAgICBwYXNzd29yZDogU3RyaW5nIQp9Cgp0eXBlIExvZ2luUmVzcG9uc2UgQGF3c19hcGlfa2V5IHsKICAgIGFjY2Vzc1Rva2VuOiBTdHJpbmchCiAgICB1c2VybmFtZTogU3RyaW5nIQp9Cgp0eXBlIE1lbnVlSXRlbSB7CiAgICBpZDogU3RyaW5nCiAgICBuYW1lOiBTdHJpbmchCiAgICBkZXNjcmlwdGlvbjogU3RyaW5nCiAgICBwcmljZTogSW50IQp9CgppbnB1dCBBZGRNZW51ZUl0ZW0gewogICAgcmVzdGF1cmFudFVzZXJuYW1lOiBTdHJpbmchCiAgICBuYW1lOiBTdHJpbmchCiAgICBkZXNjcmlwdGlvbjogU3RyaW5nCiAgICBwcmljZTogSW50IQp9Cgp0eXBlIENyZWF0ZVJlc3BvbnNlIEBhd3NfYXBpX2tleSB7CiAgICB1c2VybmFtZTogU3RyaW5nIQogICAgbmFtZTogU3RyaW5nIQogICAgYWRkcmVzczogU3RyaW5nCiAgICBwaG9uZTogU3RyaW5nCn0KCnR5cGUgUmVzdGF1cmFudCB7CiAgICB1c2VybmFtZTogU3RyaW5nIQogICAgbmFtZTogU3RyaW5nIQogICAgYWRkcmVzczogU3RyaW5nCiAgICBwaG9uZTogU3RyaW5nCn0KCmlucHV0IENyZWF0ZVJlc3RhdXJhbnQgewogICAgZW1haWw6IFN0cmluZyEKICAgIHBhc3N3b3JkOiBTdHJpbmchCiAgICBuYW1lOiBTdHJpbmchCiAgICBhZGRyZXNzOiBTdHJpbmcKICAgIHBob25lOiBTdHJpbmcKfQoKdHlwZSBPcmRlciB7CiAgICBpZDogU3RyaW5nIQogICAgcmVzdGF1cmFudF91c2VybmFtZTogU3RyaW5nIQogICAgY3VzdG9tZXJfbmFtZTogU3RyaW5nIQogICAgY3VzdG9tZXJfcGhvbmU6IFN0cmluZyEKICAgIG9yZGVyX3N0YXR1czogT3JkZXJTdGF0dXMKICAgIG9yZGVyX2RhdGU6IFN0cmluZwp9CgppbnB1dCBDcmVhdGVPcmRlciB7CiAgICByZXN0YXVyYW50VXNlcm5hbWU6IFN0cmluZyEKICAgIGN1c3RvbWVyTmFtZTogU3RyaW5nIQogICAgY3VzdG9tZXJQaG9uZTogU3RyaW5nIQp9CgppbnB1dCBMaXN0T3JkZXIgewogICAgcmVzdGF1cmFudFVzZXJuYW1lOiBTdHJpbmchCiAgICBzdGF0dXM6IE9yZGVyU3RhdHVzCn0KCmVudW0gT3JkZXJTdGF0dXMgewoJcmVjZWl2ZWQKCXByZXBhcmluZwoJZG9uZQp9Cgp0eXBlIE9yZGVySXRlbSB7CiAgICBpZDogSUQhCiAgICBvcmRlcl9pZDogU3RyaW5nIQogICAgbWVudWVfaXRlbV9pZDogU3RyaW5nIQogICAgcXVhbnRpdHk6IEludCEKICAgIG5hbWU6IFN0cmluZwogICAgcHJpY2U6IEludAp9CgppbnB1dCBDcmVhdGVPcmRlckl0ZW0gewogICAgb3JkZXJJZDogU3RyaW5nIQogICAgbWVudWVJdGVtSWQ6IFN0cmluZyEKICAgIHF1YW50aXR5OiBJbnQhCn0KCmlucHV0IFVwZGF0ZU9yZGVySXRlbSB7CiAgICBvcmRlcklkOiBTdHJpbmchCiAgICBtZW51ZUl0ZW1JZDogU3RyaW5nIQogICAgcXVhbnRpdHk6IEludCEKfQoKaW5wdXQgUmVtb3ZlT3JkZXJJdGVtIHsKICAgIG9yZGVySWQ6IFN0cmluZyEKICAgIG1lbnVlSXRlbUlkOiBTdHJpbmchCn0KCnR5cGUgSW52b2ljZSB7CiAgICBpZDogSUQhCiAgICBvcmRlcl9pZDogU3RyaW5nIQogICAgYW1vdW50OiBJbnQhCiAgICBwYXltZW50X2RhdGU6IFN0cmluZwp9CgppbnB1dCBDcmVhdGVJbnZvaWNlIHsKICAgIG9yZGVySWQ6IFN0cmluZyEKfQ==",
            "content_base64sha256": "MGV3Zok97xLS0WRg4/QtRVgeI9o7lfk4mZMVDf5WBDA=",
            "content_base64sha512": "e4n/Ilg5d9N6UNoVDx1O/rbxI/5EJxM6rZtUauT2uTHNsZUM/Oj8C9WxUksOoDss3Ykv1RXVcKaV+96fNM+efw==",
            "content_md5": "447161ac86aeedceaf87659a323930cf",
            "content_sha1": "4a7e1047a5f0047ccec5583e9acbca99abe52af8",
            "content_sha256": "30657766893def12d2d16460e3f42d45581e23da3b95f9389993150dfe560430",
            "content_sha512": "7b89ff22583977d37a50da150f1d4efeb6f123fe4427133aad9b546ae4f6b931cdb1950cfce8fc0bd5b1524b0ea03b2cdd892fd515d570a695fbde9f34cf9e7f",
            "filename": "appsync/appsync-schema.graphql",
            "id": "4a7e1047a5f0047ccec5583e9acbca99abe52af8"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "create_cognito_user_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#set($data = {\n    \"action\": \"CREATE\",\n    \"email\": $ctx.args.input.email,\n    \"password\": $ctx.args.input.password,\n    \"name\": $ctx.args.input.name,\n    \"address\": $ctx.args.input.address,\n    \"phone\": $ctx.args.input.phone\n})\n{\n  \"operation\": \"Invoke\",\n  \"payload\": $util.toJson($data)\n}",
            "content_base64": "I3NldCgkZGF0YSA9IHsKICAgICJhY3Rpb24iOiAiQ1JFQVRFIiwKICAgICJlbWFpbCI6ICRjdHguYXJncy5pbnB1dC5lbWFpbCwKICAgICJwYXNzd29yZCI6ICRjdHguYXJncy5pbnB1dC5wYXNzd29yZCwKICAgICJuYW1lIjogJGN0eC5hcmdzLmlucHV0Lm5hbWUsCiAgICAiYWRkcmVzcyI6ICRjdHguYXJncy5pbnB1dC5hZGRyZXNzLAogICAgInBob25lIjogJGN0eC5hcmdzLmlucHV0LnBob25lCn0pCnsKICAib3BlcmF0aW9uIjogIkludm9rZSIsCiAgInBheWxvYWQiOiAkdXRpbC50b0pzb24oJGRhdGEpCn0=",
            "content_base64sha256": "dxhiIrxf7YTos2DC7f/4BNdzy3PUi0lqWOYrCEa44Lk=",
            "content_base64sha512": "KNaondT2MzVuzF8jL+xf30Gi++Ig+rgjSaS8lgUBmm3GFzUes1ItO5p+gOL8vkwCooArQk2JTaVV4YeZyZzl8A==",
            "content_md5": "c94d19b8a0cbf4cb1a456a15bb887d0a",
            "content_sha1": "b68cf6415d68194083fdcfad94fed066994a1d55",
            "content_sha256": "77186222bc5fed84e8b360c2edfff804d773cb73d48b496a58e62b0846b8e0b9",
            "content_sha512": "28d6a89dd4f633356ecc5f232fec5fdf41a2fbe220fab82349a4bc9605019a6dc617351eb3522d3b9a7e80e2fcbe4c02a2802b424d894da555e18799c99ce5f0",
            "filename": "appsync/templates/create_cognito_user_request.vtl",
            "id": "b68cf6415d68194083fdcfad94fed066994a1d55"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "create_cognito_user_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($context.result)",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKCiR1dGlscy50b0pzb24oJGNvbnRleHQucmVzdWx0KQ==",
            "content_base64sha256": "yKRrFNEBbTxSmqSJpqKFcqjm0Dqk9nxxooVTSVnU1tw=",
            "content_base64sha512": "RAtze3jVWrppehjVarj6xN5nGsXj5QXN51Z0p+hpOdRbir+4oWn51RNFAyBoM5PBvtaAe8dpTi58XXoyNoDoqw==",
            "content_md5": "71f56feacc9a2073d4886547eba919bd",
            "content_sha1": "61b1a444fbe8e92d4315b3dfc4b0988fa2835bcb",
            "content_sha256": "c8a46b14d1016d3c529aa489a6a28572a8e6d03aa4f67c71a285534959d4d6dc",
            "content_sha512": "440b737b78d55aba697a18d56ab8fac4de671ac5e3e505cde75674a7e86939d45b8abfb8a169f9d513450320683393c1bed6807bc7694e2e7c5d7a323680e8ab",
            "filename": "appsync/templates/create_cognito_user_response.vtl",
            "id": "61b1a444fbe8e92d4315b3dfc4b0988fa2835bcb"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "create_invoice_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#foreach($item in $context.args.input.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n#foreach($item in $context.args.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n\n#set($process_id=$utils.autoId())\n\n{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"INSERT INTO restaurant.invoices (id, order_id, amount) VALUES ('$process_id','$context.args.input.orderId', SELECT SUM(oi.quantity * mi.price) FROM restaurant.order_items oi INNER JOIN restaurant.menue_items mi on oi.menu_item_id = mi.id WHERE oi.order_id = '$context.args.input.orderId')\",\n        \"SELECT id, order_id, amount, payment_date FROM restaurant.invoices WHERE id = '$process_id'\"\n    ]\n}",
            "content_base64": "I2ZvcmVhY2goJGl0ZW0gaW4gJGNvbnRleHQuYXJncy5pbnB1dC5lbnRyeVNldCgpKQogICAgI3NldCgkaXRlbS52YWx1ZT0kaXRlbS52YWx1ZS5yZXBsYWNlKCInIiwgIicnIikpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoIlwiLCAiXFxcXCIpKQogICAgI3NldCgkaXRlbS52YWx1ZT0kaXRlbS52YWx1ZS5yZXBsYWNlKCciJywgJ1xcXCInKSkKI2VuZAojZm9yZWFjaCgkaXRlbSBpbiAkY29udGV4dC5hcmdzLmVudHJ5U2V0KCkpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoIiciLCAiJyciKSkKICAgICNzZXQoJGl0ZW0udmFsdWU9JGl0ZW0udmFsdWUucmVwbGFjZSgiXCIsICJcXFxcIikpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoJyInLCAnXFxcIicpKQojZW5kCgojc2V0KCRwcm9jZXNzX2lkPSR1dGlscy5hdXRvSWQoKSkKCnsKICAgICJ2ZXJzaW9uIjogIjIwMTgtMDUtMjkiLAogICAgInN0YXRlbWVudHMiOiBbCiAgICAgICAgIklOU0VSVCBJTlRPIHJlc3RhdXJhbnQuaW52b2ljZXMgKGlkLCBvcmRlcl9pZCwgYW1vdW50KSBWQUxVRVMgKCckcHJvY2Vzc19pZCcsJyRjb250ZXh0LmFyZ3MuaW5wdXQub3JkZXJJZCcsIFNFTEVDVCBTVU0ob2kucXVhbnRpdHkgKiBtaS5wcmljZSkgRlJPTSByZXN0YXVyYW50Lm9yZGVyX2l0ZW1zIG9pIElOTkVSIEpPSU4gcmVzdGF1cmFudC5tZW51ZV9pdGVtcyBtaSBvbiBvaS5tZW51X2l0ZW1faWQgPSBtaS5pZCBXSEVSRSBvaS5vcmRlcl9pZCA9ICckY29udGV4dC5hcmdzLmlucHV0Lm9yZGVySWQnKSIsCiAgICAgICAgIlNFTEVDVCBpZCwgb3JkZXJfaWQsIGFtb3VudCwgcGF5bWVudF9kYXRlIEZST00gcmVzdGF1cmFudC5pbnZvaWNlcyBXSEVSRSBpZCA9ICckcHJvY2Vzc19pZCciCiAgICBdCn0=",
            "content_base64sha256": "1/+ZTDAQ2VrEI8AC+ePUz+upknG+XNJ6r5lWs6X+Qd0=",
            "content_base64sha512": "CjuNqIAtGsP1CnF2BnUvo1n7goKf5eNzVAslu+WZR8xby93Uq1ff3nImoaDbacP9kWBXkakOvgzrEJDjbe5XFA==",
            "content_md5": "d1dddd690faf9751c06a795d3bba866e",
            "content_sha1": "66179070816b60f7d0d0c88dc6e9c6d3ec8362da",
            "content_sha256": "d7ff994c3010d95ac423c002f9e3d4cfeba99271be5cd27aaf9956b3a5fe41dd",
            "content_sha512": "0a3b8da8802d1ac3f50a717606752fa359fb82829fe5e373540b25bbe59947cc5bcbddd4ab57dfde7226a1a0db69c3fd91605791a90ebe0ceb1090e36dee5714",
            "filename": "appsync/templates/create_invoice_request.vtl",
            "id": "66179070816b60f7d0d0c88dc6e9c6d3ec8362da"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "create_invoice_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[1][0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKCiR1dGlscy50b0pzb24oJHV0aWxzLnJkcy50b0pzb25PYmplY3QoJGN0eC5yZXN1bHQpWzFdWzBdKQ==",
            "content_base64sha256": "jl/Qe4LfHPs9lzhie1JKmkHl8XcRlV8QNcgCEy9Gunc=",
            "content_base64sha512": "wBw5/thqXsmJ6CuL4XJBh1CCEpTRv+Ey+n+mgW9ixwvbs6SGH3w1UBrqBEyUYSVDJwsPumm519nHzO8w9kidtA==",
            "content_md5": "9e1c940cb6d02bf1bd1a4c05e5cb802d",
            "content_sha1": "8b26730c55c5b58ab254d1ea3736e4672e9effb4",
            "content_sha256": "8e5fd07b82df1cfb3d9738627b524a9a41e5f17711955f1035c802132f46ba77",
            "content_sha512": "c01c39fed86a5ec989e82b8be172418750821294d1bfe132fa7fa6816f62c70bdbb3a4861f7c35501aea044c94612543270b0fba69b9d7d9c7ccef30f6489db4",
            "filename": "appsync/templates/create_invoice_response.vtl",
            "id": "8b26730c55c5b58ab254d1ea3736e4672e9effb4"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "create_order_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#set($address=$util.defaultIfNullOrEmpty($ctx.prev.result.address, ''))\n#set($phone=$util.defaultIfNullOrEmpty($ctx.prev.result.phone, ''))\n#set($username=$util.defaultIfNullOrEmpty($ctx.prev.result.username, ''))\n\n#set($process_id=$utils.autoId())\n\n{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"INSERT INTO restaurant.orders (id, restaurant_username, customer_name, customer_phone, order_status) VALUES ('$process_id', '$context.args.input.restaurantUsername', '$context.args.input.customerName', '$context.args.input.customerPhone', 'received')\",\n        \"SELECT id, restaurant_username, customer_name, customer_phone, order_status, order_date  FROM restaurant.orders WHERE id = '$process_id'\"\n    ]\n}",
            "content_base64": "I3NldCgkYWRkcmVzcz0kdXRpbC5kZWZhdWx0SWZOdWxsT3JFbXB0eSgkY3R4LnByZXYucmVzdWx0LmFkZHJlc3MsICcnKSkKI3NldCgkcGhvbmU9JHV0aWwuZGVmYXVsdElmTnVsbE9yRW1wdHkoJGN0eC5wcmV2LnJlc3VsdC5waG9uZSwgJycpKQojc2V0KCR1c2VybmFtZT0kdXRpbC5kZWZhdWx0SWZOdWxsT3JFbXB0eSgkY3R4LnByZXYucmVzdWx0LnVzZXJuYW1lLCAnJykpCgojc2V0KCRwcm9jZXNzX2lkPSR1dGlscy5hdXRvSWQoKSkKCnsKICAgICJ2ZXJzaW9uIjogIjIwMTgtMDUtMjkiLAogICAgInN0YXRlbWVudHMiOiBbCiAgICAgICAgIklOU0VSVCBJTlRPIHJlc3RhdXJhbnQub3JkZXJzIChpZCwgcmVzdGF1cmFudF91c2VybmFtZSwgY3VzdG9tZXJfbmFtZSwgY3VzdG9tZXJfcGhvbmUsIG9yZGVyX3N0YXR1cykgVkFMVUVTICgnJHByb2Nlc3NfaWQnLCAnJGNvbnRleHQuYXJncy5pbnB1dC5yZXN0YXVyYW50VXNlcm5hbWUnLCAnJGNvbnRleHQuYXJncy5pbnB1dC5jdXN0b21lck5hbWUnLCAnJGNvbnRleHQuYXJncy5pbnB1dC5jdXN0b21lclBob25lJywgJ3JlY2VpdmVkJykiLAogICAgICAgICJTRUxFQ1QgaWQsIHJlc3RhdXJhbnRfdXNlcm5hbWUsIGN1c3RvbWVyX25hbWUsIGN1c3RvbWVyX3Bob25lLCBvcmRlcl9zdGF0dXMsIG9yZGVyX2RhdGUgIEZST00gcmVzdGF1cmFudC5vcmRlcnMgV0hFUkUgaWQgPSAnJHByb2Nlc3NfaWQnIgogICAgXQp9",
            "content_base64sha256": "5JblbbVouOSxsIbx1dBSMawPFzDLKFvjLH++XfswOiU=",
            "content_base64sha512": "Uw94nnBTkBj48ev7b05X6+dbfV19p4xjbFBPBbV/XiBnSoucRXfdf1wxbldEjjX56/16aEF0mwvY+Xr4qrrBOw==",
            "content_md5": "d6ada9e788f300c4e8f3b0ffda509668",
            "content_sha1": "1d43710e2d46f27eda677581723d9c40151e6e18",
            "content_sha256": "e496e56db568b8e4b1b086f1d5d05231ac0f1730cb285be32c7fbe5dfb303a25",
            "content_sha512": "530f789e70539018f8f1ebfb6f4e57ebe75b7d5d7da78c636c504f05b57f5e20674a8b9c4577dd7f5c316e57448e35f9ebfd7a6841749b0bd8f97af8aabac13b",
            "filename": "appsync/templates/create_order_request.vtl",
            "id": "1d43710e2d46f27eda677581723d9c40151e6e18"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "create_order_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[1][0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKJHV0aWxzLnRvSnNvbigkdXRpbHMucmRzLnRvSnNvbk9iamVjdCgkY3R4LnJlc3VsdClbMV1bMF0p",
            "content_base64sha256": "7r3oMnMyLo+mI4juNoGKewW/6BMWa/EhGZ9NceovpW8=",
            "content_base64sha512": "sEGDCrM3sBFxuz33W3yT3BykjL54Oc6zvms0Yr47NimP9RUQc5eNSs07Ta0qVygDnemxdGTkcBAo/r7pgJgk5g==",
            "content_md5": "47ea652477b0f516529c16f21c795c34",
            "content_sha1": "7424135be4a6aeb3f9d3c6310d01747a746706a5",
            "content_sha256": "eebde83273322e8fa62388ee36818a7b05bfe813166bf121199f4d71ea2fa56f",
            "content_sha512": "b041830ab337b01171bb3df75b7c93dc1ca48cbe7839ceb3be6b3462be3b36298ff5151073978d4acd3b4dad2a5728039de9b17464e4701028febee9809824e6",
            "filename": "appsync/templates/create_order_response.vtl",
            "id": "7424135be4a6aeb3f9d3c6310d01747a746706a5"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "create_restaurant_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#set($address=$util.defaultIfNullOrEmpty($ctx.prev.result.address, ''))\n#set($phone=$util.defaultIfNullOrEmpty($ctx.prev.result.phone, ''))\n#set($username=$util.defaultIfNullOrEmpty($ctx.prev.result.username, ''))\n\n{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"INSERT INTO restaurant.restaurants (username, name, address, phone) VALUES ('$username', '$context.args.input.name', '$address', '$phone')\",\n        \"SELECT username, name, address, phone  FROM restaurant.restaurants where username = '$username'\"\n    ]\n}\n\n\n",
            "content_base64": "I3NldCgkYWRkcmVzcz0kdXRpbC5kZWZhdWx0SWZOdWxsT3JFbXB0eSgkY3R4LnByZXYucmVzdWx0LmFkZHJlc3MsICcnKSkKI3NldCgkcGhvbmU9JHV0aWwuZGVmYXVsdElmTnVsbE9yRW1wdHkoJGN0eC5wcmV2LnJlc3VsdC5waG9uZSwgJycpKQojc2V0KCR1c2VybmFtZT0kdXRpbC5kZWZhdWx0SWZOdWxsT3JFbXB0eSgkY3R4LnByZXYucmVzdWx0LnVzZXJuYW1lLCAnJykpCgp7CiAgICAidmVyc2lvbiI6ICIyMDE4LTA1LTI5IiwKICAgICJzdGF0ZW1lbnRzIjogWwogICAgICAgICJJTlNFUlQgSU5UTyByZXN0YXVyYW50LnJlc3RhdXJhbnRzICh1c2VybmFtZSwgbmFtZSwgYWRkcmVzcywgcGhvbmUpIFZBTFVFUyAoJyR1c2VybmFtZScsICckY29udGV4dC5hcmdzLmlucHV0Lm5hbWUnLCAnJGFkZHJlc3MnLCAnJHBob25lJykiLAogICAgICAgICJTRUxFQ1QgdXNlcm5hbWUsIG5hbWUsIGFkZHJlc3MsIHBob25lICBGUk9NIHJlc3RhdXJhbnQucmVzdGF1cmFudHMgd2hlcmUgdXNlcm5hbWUgPSAnJHVzZXJuYW1lJyIKICAgIF0KfQoKCg==",
            "content_base64sha256": "lpWHRskowd5p/RntVKFdPJMSUl+82BKNDGyZEnCEqU4=",
            "content_base64sha512": "L+rBm3Hk5sh/OlNAqoBeUvjX2b7GQxQZHcvNpc5qaM2RmRYcD9k2fVWiFXQ9hYEjRzhEFj4OvTkUBLvL8AnkMg==",
            "content_md5": "2fb8315c862d11e31ae683fdde7f99ba",
            "content_sha1": "e0108b8987a5cad4ef3b3b46cc6c1313a1ee8b55",
            "content_sha256": "96958746c928c1de69fd19ed54a15d3c9312525fbcd8128d0c6c99127084a94e",
            "content_sha512": "2feac19b71e4e6c87f3a5340aa805e52f8d7d9bec64314191dcbcda5ce6a68cd9199161c0fd9367d55a215743d858123473844163e0ebd391404bbcbf009e432",
            "filename": "appsync/templates/create_restaurant_request.vtl",
            "id": "e0108b8987a5cad4ef3b3b46cc6c1313a1ee8b55"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "create_restaurant_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[1][0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKCiR1dGlscy50b0pzb24oJHV0aWxzLnJkcy50b0pzb25PYmplY3QoJGN0eC5yZXN1bHQpWzFdWzBdKQ==",
            "content_base64sha256": "jl/Qe4LfHPs9lzhie1JKmkHl8XcRlV8QNcgCEy9Gunc=",
            "content_base64sha512": "wBw5/thqXsmJ6CuL4XJBh1CCEpTRv+Ey+n+mgW9ixwvbs6SGH3w1UBrqBEyUYSVDJwsPumm519nHzO8w9kidtA==",
            "content_md5": "9e1c940cb6d02bf1bd1a4c05e5cb802d",
            "content_sha1": "8b26730c55c5b58ab254d1ea3736e4672e9effb4",
            "content_sha256": "8e5fd07b82df1cfb3d9738627b524a9a41e5f17711955f1035c802132f46ba77",
            "content_sha512": "c01c39fed86a5ec989e82b8be172418750821294d1bfe132fa7fa6816f62c70bdbb3a4861f7c35501aea044c94612543270b0fba69b9d7d9c7ccef30f6489db4",
            "filename": "appsync/templates/create_restaurant_response.vtl",
            "id": "8b26730c55c5b58ab254d1ea3736e4672e9effb4"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "delete_cognito_user_lambda_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#set($data = {\n    \"action\": \"DELETE_USER\",\n    \"username\": $ctx.args.username\n})\n{\n  \"operation\": \"Invoke\",\n  \"payload\": $util.toJson($data)\n}",
            "content_base64": "I3NldCgkZGF0YSA9IHsKICAgICJhY3Rpb24iOiAiREVMRVRFX1VTRVIiLAogICAgInVzZXJuYW1lIjogJGN0eC5hcmdzLnVzZXJuYW1lCn0pCnsKICAib3BlcmF0aW9uIjogIkludm9rZSIsCiAgInBheWxvYWQiOiAkdXRpbC50b0pzb24oJGRhdGEpCn0=",
            "content_base64sha256": "KKh2W+PK/P4NV3r8uuhKgWRGPkL5r6TfPnGWVb1fPLc=",
            "content_base64sha512": "RKUxWof0g2dnUkdixBOdA0GJYIaloFfGskO1c/zWkKIrwSeas3pzpP9ZZYP9w0p7nni9PXukeuLpC3ncomMceA==",
            "content_md5": "3104111547ee9671a4dc82341aabc8ba",
            "content_sha1": "c53d40706fb06c61d52a9a99c6b494b1a8d64bb6",
            "content_sha256": "28a8765be3cafcfe0d577afcbae84a8164463e42f9afa4df3e719655bd5f3cb7",
            "content_sha512": "44a5315a87f4836767524762c4139d0341896086a5a057c6b243b573fcd690a22bc1279ab37a73a4ff596583fdc34a7b9e78bd3d7ba47ae2e90b79dca2631c78",
            "filename": "appsync/templates/delete_cognito_user_lambda_request.vtl",
            "id": "c53d40706fb06c61d52a9a99c6b494b1a8d64bb6"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "delete_cognito_user_lambda_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($context.result)",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKCiR1dGlscy50b0pzb24oJGNvbnRleHQucmVzdWx0KQ==",
            "content_base64sha256": "yKRrFNEBbTxSmqSJpqKFcqjm0Dqk9nxxooVTSVnU1tw=",
            "content_base64sha512": "RAtze3jVWrppehjVarj6xN5nGsXj5QXN51Z0p+hpOdRbir+4oWn51RNFAyBoM5PBvtaAe8dpTi58XXoyNoDoqw==",
            "content_md5": "71f56feacc9a2073d4886547eba919bd",
            "content_sha1": "61b1a444fbe8e92d4315b3dfc4b0988fa2835bcb",
            "content_sha256": "c8a46b14d1016d3c529aa489a6a28572a8e6d03aa4f67c71a285534959d4d6dc",
            "content_sha512": "440b737b78d55aba697a18d56ab8fac4de671ac5e3e505cde75674a7e86939d45b8abfb8a169f9d513450320683393c1bed6807bc7694e2e7c5d7a323680e8ab",
            "filename": "appsync/templates/delete_cognito_user_lambda_response.vtl",
            "id": "61b1a444fbe8e92d4315b3dfc4b0988fa2835bcb"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "delete_menue_item_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"DELETE FROM restaurant.menu_items WHERE id = '$ctx.arguments.id'\"\n    ]\n}",
            "content_base64": "ewogICAgInZlcnNpb24iOiAiMjAxOC0wNS0yOSIsCiAgICAic3RhdGVtZW50cyI6IFsKICAgICAgICAiREVMRVRFIEZST00gcmVzdGF1cmFudC5tZW51X2l0ZW1zIFdIRVJFIGlkID0gJyRjdHguYXJndW1lbnRzLmlkJyIKICAgIF0KfQ==",
            "content_base64sha256": "inMA5HBtMuS+OKKzb8Uc0zjDtJ50lclYm+p9j159z6c=",
            "content_base64sha512": "uGet+3JxJX/JiiPVcJ1bfnjbEJCLyi2bQLi86OE0FAi6ajHrhqoA7FPBFIY1Ci5WPMIyTgUmZwnfJq8YkoeMyA==",
            "content_md5": "61167b95b2a0b2ee13517a607e883884",
            "content_sha1": "fa79da0e1997af3b118cc5517a30c4bbe6be215e",
            "content_sha256": "8a7300e4706d32e4be38a2b36fc51cd338c3b49e7495c9589bea7d8f5e7dcfa7",
            "content_sha512": "b867adfb7271257fc98a23d5709d5b7e78db10908bca2d9b40b8bce8e1341408ba6a31eb86aa00ec53c11486350a2e563cc2324e05266709df26af1892878cc8",
            "filename": "appsync/templates/delete_menue_item_request.vtl",
            "id": "fa79da0e1997af3b118cc5517a30c4bbe6be215e"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "delete_menue_item_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0][0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKJHV0aWxzLnRvSnNvbigkdXRpbHMucmRzLnRvSnNvbk9iamVjdCgkY3R4LnJlc3VsdClbMF1bMF0p",
            "content_base64sha256": "GUE2KQTfUWGj+GTWHeMh/imCRHWgACT+BY66FMnsBKg=",
            "content_base64sha512": "8hrTGUq8Xskrls+iqQFY8J+pS/ZCIyLun+Ap2XuacjBUxe942S7BOEUx3K7G6FjWnITPGV+w0i5iiMLI0+NRoA==",
            "content_md5": "ef84afe7a3a6e4106342cb77cc905ec1",
            "content_sha1": "d06b1e78646df168e8c664b02cdee3982403d6f6",
            "content_sha256": "1941362904df5161a3f864d61de321fe29824475a00024fe058eba14c9ec04a8",
            "content_sha512": "f21ad3194abc5ec92b96cfa2a90158f09fa94bf6422322ee9fe029d97b9a723054c5ef78d92ec1384531dcaec6e858d69c84cf195fb0d22e6288c2c8d3e351a0",
            "filename": "appsync/templates/delete_menue_item_response.vtl",
            "id": "d06b1e78646df168e8c664b02cdee3982403d6f6"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "delete_order_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"DELETE FROM restaurant.orders WHERE id = '$ctx.arguments.id'\"\n    ]\n}",
            "content_base64": "ewogICAgInZlcnNpb24iOiAiMjAxOC0wNS0yOSIsCiAgICAic3RhdGVtZW50cyI6IFsKICAgICAgICAiREVMRVRFIEZST00gcmVzdGF1cmFudC5vcmRlcnMgV0hFUkUgaWQgPSAnJGN0eC5hcmd1bWVudHMuaWQnIgogICAgXQp9",
            "content_base64sha256": "oFTdoTFRb9nB3JF/+epPqRa2IdHNTCh2i+4L7SW8GGk=",
            "content_base64sha512": "3kvyCu3K9+TTtT+MnwcuknqGdFjQ+qjhYoJUq5T/GGPnzLVgGJmMbouElBN0iFDrNjLqLIFUoSf8hH2hr3bzLg==",
            "content_md5": "07a76eaf40af5ec2183e1ead243a2575",
            "content_sha1": "116f24d8b32b4c761b133e8f7b2320d70e1c2c5f",
            "content_sha256": "a054dda131516fd9c1dc917ff9ea4fa916b621d1cd4c28768bee0bed25bc1869",
            "content_sha512": "de4bf20aedcaf7e4d3b53f8c9f072e927a867458d0faa8e1628254ab94ff1863e7ccb56018998c6e8b849413748850eb3632ea2c8154a127fc847da1af76f32e",
            "filename": "appsync/templates/delete_order_request.vtl",
            "id": "116f24d8b32b4c761b133e8f7b2320d70e1c2c5f"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "delete_order_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0][0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKJHV0aWxzLnRvSnNvbigkdXRpbHMucmRzLnRvSnNvbk9iamVjdCgkY3R4LnJlc3VsdClbMF1bMF0p",
            "content_base64sha256": "GUE2KQTfUWGj+GTWHeMh/imCRHWgACT+BY66FMnsBKg=",
            "content_base64sha512": "8hrTGUq8Xskrls+iqQFY8J+pS/ZCIyLun+Ap2XuacjBUxe942S7BOEUx3K7G6FjWnITPGV+w0i5iiMLI0+NRoA==",
            "content_md5": "ef84afe7a3a6e4106342cb77cc905ec1",
            "content_sha1": "d06b1e78646df168e8c664b02cdee3982403d6f6",
            "content_sha256": "1941362904df5161a3f864d61de321fe29824475a00024fe058eba14c9ec04a8",
            "content_sha512": "f21ad3194abc5ec92b96cfa2a90158f09fa94bf6422322ee9fe029d97b9a723054c5ef78d92ec1384531dcaec6e858d69c84cf195fb0d22e6288c2c8d3e351a0",
            "filename": "appsync/templates/delete_order_response.vtl",
            "id": "d06b1e78646df168e8c664b02cdee3982403d6f6"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "delete_restaurant_function_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"DELETE FROM restaurant.restaurants WHERE username = '$ctx.prev.result.username'\"\n    ]\n}",
            "content_base64": "ewogICAgInZlcnNpb24iOiAiMjAxOC0wNS0yOSIsCiAgICAic3RhdGVtZW50cyI6IFsKICAgICAgICAiREVMRVRFIEZST00gcmVzdGF1cmFudC5yZXN0YXVyYW50cyBXSEVSRSB1c2VybmFtZSA9ICckY3R4LnByZXYucmVzdWx0LnVzZXJuYW1lJyIKICAgIF0KfQ==",
            "content_base64sha256": "l7lQSA4xH0KoyTd0FZGJwhwOPfHRmR82FbETz9XK/SE=",
            "content_base64sha512": "smCAPjmGrzadugtQbXaeE6eyYxoAMU82QobAukg9hk0wfd5NrkmZo1YzwU3H5Yh+Dj7UEChRkdgRtTuNQJFR2Q==",
            "content_md5": "0ca58a86fad4b22f858ff38b5372e817",
            "content_sha1": "c59b9f706e776e63dc1db7c12f7acc857f31eac5",
            "content_sha256": "97b950480e311f42a8c93774159189c21c0e3df1d1991f3615b113cfd5cafd21",
            "content_sha512": "b260803e3986af369dba0b506d769e13a7b2631a00314f364286c0ba483d864d307dde4dae4999a35633c14dc7e5887e0e3ed410285191d811b53b8d409151d9",
            "filename": "appsync/templates/delete_restaurant_function_request.vtl",
            "id": "c59b9f706e776e63dc1db7c12f7acc857f31eac5"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "delete_restaurant_function_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0][0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKJHV0aWxzLnRvSnNvbigkdXRpbHMucmRzLnRvSnNvbk9iamVjdCgkY3R4LnJlc3VsdClbMF1bMF0p",
            "content_base64sha256": "GUE2KQTfUWGj+GTWHeMh/imCRHWgACT+BY66FMnsBKg=",
            "content_base64sha512": "8hrTGUq8Xskrls+iqQFY8J+pS/ZCIyLun+Ap2XuacjBUxe942S7BOEUx3K7G6FjWnITPGV+w0i5iiMLI0+NRoA==",
            "content_md5": "ef84afe7a3a6e4106342cb77cc905ec1",
            "content_sha1": "d06b1e78646df168e8c664b02cdee3982403d6f6",
            "content_sha256": "1941362904df5161a3f864d61de321fe29824475a00024fe058eba14c9ec04a8",
            "content_sha512": "f21ad3194abc5ec92b96cfa2a90158f09fa94bf6422322ee9fe029d97b9a723054c5ef78d92ec1384531dcaec6e858d69c84cf195fb0d22e6288c2c8d3e351a0",
            "filename": "appsync/templates/delete_restaurant_function_response.vtl",
            "id": "d06b1e78646df168e8c664b02cdee3982403d6f6"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "get_menue_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n         \"SELECT id, name, description, price FROM restaurant.menu_items WHERE restaurant_username = '$ctx.args.restaurantUsername'\"\n    ]\n}",
            "content_base64": "ewogICAgInZlcnNpb24iOiAiMjAxOC0wNS0yOSIsCiAgICAic3RhdGVtZW50cyI6IFsKICAgICAgICAgIlNFTEVDVCBpZCwgbmFtZSwgZGVzY3JpcHRpb24sIHByaWNlIEZST00gcmVzdGF1cmFudC5tZW51X2l0ZW1zIFdIRVJFIHJlc3RhdXJhbnRfdXNlcm5hbWUgPSAnJGN0eC5hcmdzLnJlc3RhdXJhbnRVc2VybmFtZSciCiAgICBdCn0=",
            "content_base64sha256": "l9aiaLXrPDJ8PjsmDfFgQTubFvLKtSh0kXvjKjMgDLs=",
            "content_base64sha512": "rDIhrw5gXfdb8QiABYE8mx1RN+Xp25rOgQUEGFs7rNRmgBC7IEjI2Q0ywjPDDKATnbrpRMX1N0ECZe1roe8eBQ==",
            "content_md5": "98f4c1ee5a3f129482b5e6245e3f076c",
            "content_sha1": "44ecfec80f4b3a8fbf01551992ac27f49118afda",
            "content_sha256": "97d6a268b5eb3c327c3e3b260df160413b9b16f2cab52874917be32a33200cbb",
            "content_sha512": "ac3221af0e605df75bf1088005813c9b1d5137e5e9db9ace810504185b3bacd4668010bb2048c8d90d32c233c30ca0139dbae944c5f537410265ed6ba1ef1e05",
            "filename": "appsync/templates/get_menue_request.vtl",
            "id": "44ecfec80f4b3a8fbf01551992ac27f49118afda"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "get_menue_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKCiR1dGlscy50b0pzb24oJHV0aWxzLnJkcy50b0pzb25PYmplY3QoJGN0eC5yZXN1bHQpWzBdKQ==",
            "content_base64sha256": "DzWCKwwbGDJcdOE5A7R+kLmJCuCwQptgMpR2VaKySzM=",
            "content_base64sha512": "8BmwoaptksJNxJj/Hq4gK3t14xyVhF5Q6d37M3uy/wj9rmzb54OODSRHRJArWRV+idnKNxSzYstXc+tDEv1+GQ==",
            "content_md5": "6a2d9f4792d9caf41ddc1f2a08134e97",
            "content_sha1": "ff624a2bf5862c5bd97a360a45d30af38cb4d760",
            "content_sha256": "0f35822b0c1b18325c74e13903b47e90b9890ae0b0429b6032947655a2b24b33",
            "content_sha512": "f019b0a1aa6d92c24dc498ff1eae202b7b75e31c95845e50e9ddfb337bb2ff08fdae6cdbe7838e0d244744902b59157e89d9ca3714b362cb5773eb4312fd7e19",
            "filename": "appsync/templates/get_menue_response.vtl",
            "id": "ff624a2bf5862c5bd97a360a45d30af38cb4d760"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "get_restaurant_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"SELECT username, name, address, phone FROM restaurant.restaurants WHERE username = '$ctx.args.id'\"\n    ]\n}",
            "content_base64": "ewogICAgInZlcnNpb24iOiAiMjAxOC0wNS0yOSIsCiAgICAic3RhdGVtZW50cyI6IFsKICAgICAgICAiU0VMRUNUIHVzZXJuYW1lLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSBGUk9NIHJlc3RhdXJhbnQucmVzdGF1cmFudHMgV0hFUkUgdXNlcm5hbWUgPSAnJGN0eC5hcmdzLmlkJyIKICAgIF0KfQ==",
            "content_base64sha256": "oiJJGMPcVjvaft/TAabMik79kf4Xd40Dse9aW36LaKE=",
            "content_base64sha512": "++ZJdGZ3eb4RqAHYz7i8THoRgpi2h/k/Cp4DxAnan4Wytsib0QxvdXJctfgBoPwT17esset4q674UdtI0ROQ6A==",
            "content_md5": "40c630928334b1387245ca5591eda554",
            "content_sha1": "7be276672c665014a68db74b5da313d588f2dcdf",
            "content_sha256": "a2224918c3dc563bda7edfd301a6cc8a4efd91fe17778d03b1ef5a5b7e8b68a1",
            "content_sha512": "fbe64974667779be11a801d8cfb8bc4c7a118298b687f93f0a9e03c409da9f85b2b6c89bd10c6f75725cb5f801a0fc13d7b7acb1eb78abaef851db48d11390e8",
            "filename": "appsync/templates/get_restaurant_request.vtl",
            "id": "7be276672c665014a68db74b5da313d588f2dcdf"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "get_restaurant_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0][0])\n\n\n",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKJHV0aWxzLnRvSnNvbigkdXRpbHMucmRzLnRvSnNvbk9iamVjdCgkY3R4LnJlc3VsdClbMF1bMF0pCgoK",
            "content_base64sha256": "mGf+xl1Y+vDbm7ODGgZXuBiL88Q1JmWN8MxP56o0nL8=",
            "content_base64sha512": "TxxVoPBBfyB3MivHOyAlcaHrLCx4QxwEa3+i6jUQxfZ/NT3lzi1CGfkptZ8ViWMCJ20ZMMSp3NarhLDp0oYl3Q==",
            "content_md5": "4bf13c89d93ddf68e8a52116bde8ffb9",
            "content_sha1": "023160bbdcf90d5680f3c3d2ffbbf9ceee62517e",
            "content_sha256": "9867fec65d58faf0db9bb3831a0657b8188bf3c43526658df0cc4fe7aa349cbf",
            "content_sha512": "4f1c55a0f0417f2077322bc73b202571a1eb2c2c78431c046b7fa2ea3510c5f67f353de5ce2d4219f929b59f15896302276d1930c4a9dcd6ab84b0e9d28625dd",
            "filename": "appsync/templates/get_restaurant_response.vtl",
            "id": "023160bbdcf90d5680f3c3d2ffbbf9ceee62517e"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "list_invoice_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"SELECT id, order_id, amount, payment_date FROM restaurant.invoices WHERE order_id in (SELECT id FROM restaurants.orders WHERE restaurant_username = '$ctx.args.restaurantUsername')\"\n    ]\n}",
            "content_base64": "ewogICAgInZlcnNpb24iOiAiMjAxOC0wNS0yOSIsCiAgICAic3RhdGVtZW50cyI6IFsKICAgICAgICAiU0VMRUNUIGlkLCBvcmRlcl9pZCwgYW1vdW50LCBwYXltZW50X2RhdGUgRlJPTSByZXN0YXVyYW50Lmludm9pY2VzIFdIRVJFIG9yZGVyX2lkIGluIChTRUxFQ1QgaWQgRlJPTSByZXN0YXVyYW50cy5vcmRlcnMgV0hFUkUgcmVzdGF1cmFudF91c2VybmFtZSA9ICckY3R4LmFyZ3MucmVzdGF1cmFudFVzZXJuYW1lJykiCiAgICBdCn0=",
            "content_base64sha256": "7hTcvxBsDHh2qYyFHD+LuKeDzfZ0EcVZzQDfrr6XOyg=",
            "content_base64sha512": "RPSL+Zo7dTjgPyVwpFsknp8OPU39fA4h5Vw5bRfBuOwxBgCt0wCkc/d59WhfBH9cg7NZIXpU3oGcBB/bFuOsRA==",
            "content_md5": "a12d84e778740cc22ca403b28e66f9f9",
            "content_sha1": "e9a61c603b831630594d2042ea2ce390697ba157",
            "content_sha256": "ee14dcbf106c0c7876a98c851c3f8bb8a783cdf67411c559cd00dfaebe973b28",
            "content_sha512": "44f48bf99a3b7538e03f2570a45b249e9f0e3d4dfd7c0e21e55c396d17c1b8ec310600add300a473f779f5685f047f5c83b359217a54de819c041fdb16e3ac44",
            "filename": "appsync/templates/list_invoice_request.vtl",
            "id": "e9a61c603b831630594d2042ea2ce390697ba157"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "list_invoice_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKCiR1dGlscy50b0pzb24oJHV0aWxzLnJkcy50b0pzb25PYmplY3QoJGN0eC5yZXN1bHQpWzBdKQ==",
            "content_base64sha256": "DzWCKwwbGDJcdOE5A7R+kLmJCuCwQptgMpR2VaKySzM=",
            "content_base64sha512": "8BmwoaptksJNxJj/Hq4gK3t14xyVhF5Q6d37M3uy/wj9rmzb54OODSRHRJArWRV+idnKNxSzYstXc+tDEv1+GQ==",
            "content_md5": "6a2d9f4792d9caf41ddc1f2a08134e97",
            "content_sha1": "ff624a2bf5862c5bd97a360a45d30af38cb4d760",
            "content_sha256": "0f35822b0c1b18325c74e13903b47e90b9890ae0b0429b6032947655a2b24b33",
            "content_sha512": "f019b0a1aa6d92c24dc498ff1eae202b7b75e31c95845e50e9ddfb337bb2ff08fdae6cdbe7838e0d244744902b59157e89d9ca3714b362cb5773eb4312fd7e19",
            "filename": "appsync/templates/list_invoice_response.vtl",
            "id": "ff624a2bf5862c5bd97a360a45d30af38cb4d760"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "list_order_items_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"SELECT id, order_id, menu_item_id, quantity, mi.name as name, mi.price as price FROM restaurant.order_items oi RIGHT JOIN restaurant.menue_items mi on oi.menu_item_id = mi.id  WHERE order_id = 'ctx.args.orderId'\"\n    ]\n}",
            "content_base64": "ewogICAgInZlcnNpb24iOiAiMjAxOC0wNS0yOSIsCiAgICAic3RhdGVtZW50cyI6IFsKICAgICAgICAiU0VMRUNUIGlkLCBvcmRlcl9pZCwgbWVudV9pdGVtX2lkLCBxdWFudGl0eSwgbWkubmFtZSBhcyBuYW1lLCBtaS5wcmljZSBhcyBwcmljZSBGUk9NIHJlc3RhdXJhbnQub3JkZXJfaXRlbXMgb2kgUklHSFQgSk9JTiByZXN0YXVyYW50Lm1lbnVlX2l0ZW1zIG1pIG9uIG9pLm1lbnVfaXRlbV9pZCA9IG1pLmlkICBXSEVSRSBvcmRlcl9pZCA9ICdjdHguYXJncy5vcmRlcklkJyIKICAgIF0KfQ==",
            "content_base64sha256": "GAWhaExdqr+eZzLTnB3LFss/UKe7zlxEhn0bXxW+N9c=",
            "content_base64sha512": "V/uOhuty2q4in82aKf9EA58d7Tk23K8ya972dAxGaluTC1z6CzywKCot/6nswNmmMxm09FSUE2kRsMjPINzdyQ==",
            "content_md5": "95c3d2b125bf2e63e923fc7a91b46596",
            "content_sha1": "7f4956af58e7fa5f1ed4062f7082b2f9bbf81892",
            "content_sha256": "1805a1684c5daabf9e6732d39c1dcb16cb3f50a7bbce5c44867d1b5f15be37d7",
            "content_sha512": "57fb8e86eb72daae229fcd9a29ff44039f1ded3936dcaf326bdef6740c466a5b930b5cfa0b3cb0282a2dffa9ecc0d9a63319b4f45494136911b0c8cf20dcddc9",
            "filename": "appsync/templates/list_order_items_request.vtl",
            "id": "7f4956af58e7fa5f1ed4062f7082b2f9bbf81892"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "list_order_items_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKCiR1dGlscy50b0pzb24oJHV0aWxzLnJkcy50b0pzb25PYmplY3QoJGN0eC5yZXN1bHQpWzBdKQ==",
            "content_base64sha256": "DzWCKwwbGDJcdOE5A7R+kLmJCuCwQptgMpR2VaKySzM=",
            "content_base64sha512": "8BmwoaptksJNxJj/Hq4gK3t14xyVhF5Q6d37M3uy/wj9rmzb54OODSRHRJArWRV+idnKNxSzYstXc+tDEv1+GQ==",
            "content_md5": "6a2d9f4792d9caf41ddc1f2a08134e97",
            "content_sha1": "ff624a2bf5862c5bd97a360a45d30af38cb4d760",
            "content_sha256": "0f35822b0c1b18325c74e13903b47e90b9890ae0b0429b6032947655a2b24b33",
            "content_sha512": "f019b0a1aa6d92c24dc498ff1eae202b7b75e31c95845e50e9ddfb337bb2ff08fdae6cdbe7838e0d244744902b59157e89d9ca3714b362cb5773eb4312fd7e19",
            "filename": "appsync/templates/list_order_items_response.vtl",
            "id": "ff624a2bf5862c5bd97a360a45d30af38cb4d760"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "list_order_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.args.filter.status)\n    {\n        \"version\": \"2018-05-29\",\n        \"statements\": [\n            \"SELECT id, restaurant_username, customer_name, customer_phone, order_status, order_date  FROM restaurant.orders WHERE restaurant_username = '$ctx.args.filter.restaurantUsername' AND order_status = '$ctx.args.filter.status'\"\n        ]\n    }\n#else\n    {\n        \"version\": \"2018-05-29\",\n        \"statements\": [\n            \"SELECT id, restaurant_username, customer_name, customer_phone, order_status, order_date  FROM restaurant.orders WHERE restaurant_username = '$ctx.args.filter.restaurantUsername'\"\n        ]\n    }\n#end\n\n\n",
            "content_base64": "I2lmKCRjdHguYXJncy5maWx0ZXIuc3RhdHVzKQogICAgewogICAgICAgICJ2ZXJzaW9uIjogIjIwMTgtMDUtMjkiLAogICAgICAgICJzdGF0ZW1lbnRzIjogWwogICAgICAgICAgICAiU0VMRUNUIGlkLCByZXN0YXVyYW50X3VzZXJuYW1lLCBjdXN0b21lcl9uYW1lLCBjdXN0b21lcl9waG9uZSwgb3JkZXJfc3RhdHVzLCBvcmRlcl9kYXRlICBGUk9NIHJlc3RhdXJhbnQub3JkZXJzIFdIRVJFIHJlc3RhdXJhbnRfdXNlcm5hbWUgPSAnJGN0eC5hcmdzLmZpbHRlci5yZXN0YXVyYW50VXNlcm5hbWUnIEFORCBvcmRlcl9zdGF0dXMgPSAnJGN0eC5hcmdzLmZpbHRlci5zdGF0dXMnIgogICAgICAgIF0KICAgIH0KI2Vsc2UKICAgIHsKICAgICAgICAidmVyc2lvbiI6ICIyMDE4LTA1LTI5IiwKICAgICAgICAic3RhdGVtZW50cyI6IFsKICAgICAgICAgICAgIlNFTEVDVCBpZCwgcmVzdGF1cmFudF91c2VybmFtZSwgY3VzdG9tZXJfbmFtZSwgY3VzdG9tZXJfcGhvbmUsIG9yZGVyX3N0YXR1cywgb3JkZXJfZGF0ZSAgRlJPTSByZXN0YXVyYW50Lm9yZGVycyBXSEVSRSByZXN0YXVyYW50X3VzZXJuYW1lID0gJyRjdHguYXJncy5maWx0ZXIucmVzdGF1cmFudFVzZXJuYW1lJyIKICAgICAgICBdCiAgICB9CiNlbmQKCgo=",
            "content_base64sha256": "XSSgJJUZLY9/28kPPYOiqL8HijS6li+JGICiSehrrA0=",
            "content_base64sha512": "Wib1p46yaDxU9xBzsFt1OchRY/4JMLnUueBHSpIJclEZkLOKjb5VwHbVnUZ+Tth6b39SQmIaP/XFvh+1qd/ZZQ==",
            "content_md5": "c62c614284e5c1f5e3d5d3f22616fc1b",
            "content_sha1": "dc74f4d644f736e91a11996af6eea9bf84f2c13b",
            "content_sha256": "5d24a02495192d8f7fdbc90f3d83a2a8bf078a34ba962f891880a249e86bac0d",
            "content_sha512": "5a26f5a78eb2683c54f71073b05b7539c85163fe0930b9d4b9e0474a920972511990b38a8dbe55c076d59d467e4ed87a6f7f5242621a3ff5c5be1fb5a9dfd965",
            "filename": "appsync/templates/list_order_request.vtl",
            "id": "dc74f4d644f736e91a11996af6eea9bf84f2c13b"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "list_order_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKCiR1dGlscy50b0pzb24oJHV0aWxzLnJkcy50b0pzb25PYmplY3QoJGN0eC5yZXN1bHQpWzBdKQ==",
            "content_base64sha256": "DzWCKwwbGDJcdOE5A7R+kLmJCuCwQptgMpR2VaKySzM=",
            "content_base64sha512": "8BmwoaptksJNxJj/Hq4gK3t14xyVhF5Q6d37M3uy/wj9rmzb54OODSRHRJArWRV+idnKNxSzYstXc+tDEv1+GQ==",
            "content_md5": "6a2d9f4792d9caf41ddc1f2a08134e97",
            "content_sha1": "ff624a2bf5862c5bd97a360a45d30af38cb4d760",
            "content_sha256": "0f35822b0c1b18325c74e13903b47e90b9890ae0b0429b6032947655a2b24b33",
            "content_sha512": "f019b0a1aa6d92c24dc498ff1eae202b7b75e31c95845e50e9ddfb337bb2ff08fdae6cdbe7838e0d244744902b59157e89d9ca3714b362cb5773eb4312fd7e19",
            "filename": "appsync/templates/list_order_response.vtl",
            "id": "ff624a2bf5862c5bd97a360a45d30af38cb4d760"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "login_function_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#set($data = {\n    \"action\": \"LOGIN\",\n    \"username\": $ctx.args.input.email,\n    \"password\": $ctx.args.input.password\n})\n{\n  \"operation\": \"Invoke\",\n  \"payload\": $util.toJson($data)\n}",
            "content_base64": "I3NldCgkZGF0YSA9IHsKICAgICJhY3Rpb24iOiAiTE9HSU4iLAogICAgInVzZXJuYW1lIjogJGN0eC5hcmdzLmlucHV0LmVtYWlsLAogICAgInBhc3N3b3JkIjogJGN0eC5hcmdzLmlucHV0LnBhc3N3b3JkCn0pCnsKICAib3BlcmF0aW9uIjogIkludm9rZSIsCiAgInBheWxvYWQiOiAkdXRpbC50b0pzb24oJGRhdGEpCn0=",
            "content_base64sha256": "YBaSgY1xaLPjGh8G9VGwGs1/1pnbvvU8QUysSEp7suE=",
            "content_base64sha512": "IJs7948saxAfzIwn5x6zl6Q3xG+IyzCz6sLHz35caa98FCTj9Qh1GWCHnKilL2ImkKcoZFHVt9I5X65YOtssjQ==",
            "content_md5": "c01cfbbc72d19a4e69f215f60946788c",
            "content_sha1": "a92ee255bbb5feb15cbd292fe479a9f33a60c396",
            "content_sha256": "601692818d7168b3e31a1f06f551b01acd7fd699dbbef53c414cac484a7bb2e1",
            "content_sha512": "209b3bf78f2c6b101fcc8c27e71eb397a437c46f88cb30b3eac2c7cf7e5c69af7c1424e3f508751960879ca8a52f622690a7286451d5b7d2395fae583adb2c8d",
            "filename": "appsync/templates/login_function_request.vtl",
            "id": "a92ee255bbb5feb15cbd292fe479a9f33a60c396"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "login_function_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($context.result)",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKCiR1dGlscy50b0pzb24oJGNvbnRleHQucmVzdWx0KQ==",
            "content_base64sha256": "yKRrFNEBbTxSmqSJpqKFcqjm0Dqk9nxxooVTSVnU1tw=",
            "content_base64sha512": "RAtze3jVWrppehjVarj6xN5nGsXj5QXN51Z0p+hpOdRbir+4oWn51RNFAyBoM5PBvtaAe8dpTi58XXoyNoDoqw==",
            "content_md5": "71f56feacc9a2073d4886547eba919bd",
            "content_sha1": "61b1a444fbe8e92d4315b3dfc4b0988fa2835bcb",
            "content_sha256": "c8a46b14d1016d3c529aa489a6a28572a8e6d03aa4f67c71a285534959d4d6dc",
            "content_sha512": "440b737b78d55aba697a18d56ab8fac4de671ac5e3e505cde75674a7e86939d45b8abfb8a169f9d513450320683393c1bed6807bc7694e2e7c5d7a323680e8ab",
            "filename": "appsync/templates/login_function_response.vtl",
            "id": "61b1a444fbe8e92d4315b3dfc4b0988fa2835bcb"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "pipeline_after_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($context.prev.result)",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKCiR1dGlscy50b0pzb24oJGNvbnRleHQucHJldi5yZXN1bHQp",
            "content_base64sha256": "Utxq5cyZlWhdh8KebLOgOvBco66Tf5tUIM8GPAMSXqE=",
            "content_base64sha512": "wmj0Y6BigMdRpA8R/8gFpG7RUKJrBr1Kgmcg+1ZBJ4e1Hlexe2/6TRPraSKphcbfWqzEUepi4I2hz/Bsf8iZKg==",
            "content_md5": "10eda4cb7d126aa3d3d22aa7e0840bdb",
            "content_sha1": "bb7fdc7f6f4ebaf27088685b4c992867f6a1d0b8",
            "content_sha256": "52dc6ae5cc9995685d87c29e6cb3a03af05ca3ae937f9b5420cf063c03125ea1",
            "content_sha512": "c268f463a06280c751a40f11ffc805a46ed150a26b06bd4a826720fb56412787b51e57b17b6ffa4d13eb6922a985c6df5aacc451ea62e08da1cff06c7fc8992a",
            "filename": "appsync/templates/pipeline_after_request.vtl",
            "id": "bb7fdc7f6f4ebaf27088685b4c992867f6a1d0b8"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "pipeline_before_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#foreach($item in $context.args.input.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n#foreach($item in $context.args.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n{}",
            "content_base64": "I2ZvcmVhY2goJGl0ZW0gaW4gJGNvbnRleHQuYXJncy5pbnB1dC5lbnRyeVNldCgpKQogICAgI3NldCgkaXRlbS52YWx1ZT0kaXRlbS52YWx1ZS5yZXBsYWNlKCInIiwgIicnIikpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoIlwiLCAiXFxcXCIpKQogICAgI3NldCgkaXRlbS52YWx1ZT0kaXRlbS52YWx1ZS5yZXBsYWNlKCciJywgJ1xcXCInKSkKI2VuZAojZm9yZWFjaCgkaXRlbSBpbiAkY29udGV4dC5hcmdzLmVudHJ5U2V0KCkpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoIiciLCAiJyciKSkKICAgICNzZXQoJGl0ZW0udmFsdWU9JGl0ZW0udmFsdWUucmVwbGFjZSgiXCIsICJcXFxcIikpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoJyInLCAnXFxcIicpKQojZW5kCnt9",
            "content_base64sha256": "fcz7JJ1NEr7GzfgCn6BSydQ9ae9hIiSNzPXgX21qUjM=",
            "content_base64sha512": "4JO7jOhvicf28oVmohj+wfJxaxbH9i6r+MzftBEPx5aWL62PfKCkB3K30lYHhxJ/DEUOOiwcIcRshRCy0q93yA==",
            "content_md5": "8f5a2efe40fb55e362670e4d36b73999",
            "content_sha1": "a6d84a91d528f822098295451eca348ac197e666",
            "content_sha256": "7dccfb249d4d12bec6cdf8029fa052c9d43d69ef6122248dccf5e05f6d6a5233",
            "content_sha512": "e093bb8ce86f89c7f6f28566a218fec1f2716b16c7f62eabf8ccdfb4110fc796962fad8f7ca0a40772b7d2560787127f0c450e3a2c1c21c46c8510b2d2af77c8",
            "filename": "appsync/templates/pipeline_before_request.vtl",
            "id": "a6d84a91d528f822098295451eca348ac197e666"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "remove_order_item_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"DELETE FROM restaurant.orders WHERE order_id = '$context.args.input.orderId' AND menu_item_id = '$context.args.input.menueItemId'\"\n    ]\n}",
            "content_base64": "ewogICAgInZlcnNpb24iOiAiMjAxOC0wNS0yOSIsCiAgICAic3RhdGVtZW50cyI6IFsKICAgICAgICAiREVMRVRFIEZST00gcmVzdGF1cmFudC5vcmRlcnMgV0hFUkUgb3JkZXJfaWQgPSAnJGNvbnRleHQuYXJncy5pbnB1dC5vcmRlcklkJyBBTkQgbWVudV9pdGVtX2lkID0gJyRjb250ZXh0LmFyZ3MuaW5wdXQubWVudWVJdGVtSWQnIgogICAgXQp9",
            "content_base64sha256": "yTBSUbxNHAHN5A0h2PtJS+rs2nsJScafqQfucu4wWQc=",
            "content_base64sha512": "D/wvXSOK2y5eu+nKv9Dui6pTPqFAmoYq/Pz2D91S87BtTE1lgH+t+NosGog3nAp4999m8vyA3XqTqiOWh3a1JA==",
            "content_md5": "7411e8fb6fa4d712800a7e2d3740efb6",
            "content_sha1": "8257b02df7bb3eb481671e3fbd20ac3d9ac82ebc",
            "content_sha256": "c9305251bc4d1c01cde40d21d8fb494beaecda7b0949c69fa907ee72ee305907",
            "content_sha512": "0ffc2f5d238adb2e5ebbe9cabfd0ee8baa533ea1409a862afcfcf60fdd52f3b06d4c4d65807fadf8da2c1a88379c0a78f7df66f2fc80dd7a93aa23968776b524",
            "filename": "appsync/templates/remove_order_item_request.vtl",
            "id": "8257b02df7bb3eb481671e3fbd20ac3d9ac82ebc"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "remove_order_item_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0][0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKJHV0aWxzLnRvSnNvbigkdXRpbHMucmRzLnRvSnNvbk9iamVjdCgkY3R4LnJlc3VsdClbMF1bMF0p",
            "content_base64sha256": "GUE2KQTfUWGj+GTWHeMh/imCRHWgACT+BY66FMnsBKg=",
            "content_base64sha512": "8hrTGUq8Xskrls+iqQFY8J+pS/ZCIyLun+Ap2XuacjBUxe942S7BOEUx3K7G6FjWnITPGV+w0i5iiMLI0+NRoA==",
            "content_md5": "ef84afe7a3a6e4106342cb77cc905ec1",
            "content_sha1": "d06b1e78646df168e8c664b02cdee3982403d6f6",
            "content_sha256": "1941362904df5161a3f864d61de321fe29824475a00024fe058eba14c9ec04a8",
            "content_sha512": "f21ad3194abc5ec92b96cfa2a90158f09fa94bf6422322ee9fe029d97b9a723054c5ef78d92ec1384531dcaec6e858d69c84cf195fb0d22e6288c2c8d3e351a0",
            "filename": "appsync/templates/remove_order_item_response.vtl",
            "id": "d06b1e78646df168e8c664b02cdee3982403d6f6"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "update_order_item_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#foreach($item in $context.args.input.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n#foreach($item in $context.args.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n\n#set($process_id=$utils.autoId())\n\n{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"UPDATE restaurant.order_items SET quantity = '$context.args.input.quantity' WHERE order_id = '$context.args.input.orderId' AND menu_item_id = '$context.args.input.menueItemId')\",\n        \"SELECT id, order_id, menu_item_id, quantity FROM restaurant.order_items WHERE id = '$process_id'\"\n    ]\n}",
            "content_base64": "I2ZvcmVhY2goJGl0ZW0gaW4gJGNvbnRleHQuYXJncy5pbnB1dC5lbnRyeVNldCgpKQogICAgI3NldCgkaXRlbS52YWx1ZT0kaXRlbS52YWx1ZS5yZXBsYWNlKCInIiwgIicnIikpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoIlwiLCAiXFxcXCIpKQogICAgI3NldCgkaXRlbS52YWx1ZT0kaXRlbS52YWx1ZS5yZXBsYWNlKCciJywgJ1xcXCInKSkKI2VuZAojZm9yZWFjaCgkaXRlbSBpbiAkY29udGV4dC5hcmdzLmVudHJ5U2V0KCkpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoIiciLCAiJyciKSkKICAgICNzZXQoJGl0ZW0udmFsdWU9JGl0ZW0udmFsdWUucmVwbGFjZSgiXCIsICJcXFxcIikpCiAgICAjc2V0KCRpdGVtLnZhbHVlPSRpdGVtLnZhbHVlLnJlcGxhY2UoJyInLCAnXFxcIicpKQojZW5kCgojc2V0KCRwcm9jZXNzX2lkPSR1dGlscy5hdXRvSWQoKSkKCnsKICAgICJ2ZXJzaW9uIjogIjIwMTgtMDUtMjkiLAogICAgInN0YXRlbWVudHMiOiBbCiAgICAgICAgIlVQREFURSByZXN0YXVyYW50Lm9yZGVyX2l0ZW1zIFNFVCBxdWFudGl0eSA9ICckY29udGV4dC5hcmdzLmlucHV0LnF1YW50aXR5JyBXSEVSRSBvcmRlcl9pZCA9ICckY29udGV4dC5hcmdzLmlucHV0Lm9yZGVySWQnIEFORCBtZW51X2l0ZW1faWQgPSAnJGNvbnRleHQuYXJncy5pbnB1dC5tZW51ZUl0ZW1JZCcpIiwKICAgICAgICAiU0VMRUNUIGlkLCBvcmRlcl9pZCwgbWVudV9pdGVtX2lkLCBxdWFudGl0eSBGUk9NIHJlc3RhdXJhbnQub3JkZXJfaXRlbXMgV0hFUkUgaWQgPSAnJHByb2Nlc3NfaWQnIgogICAgXQp9",
            "content_base64sha256": "0/2VGNQoN5laQIQsoTp4PJ+JUWhoKFu/VMhnRRNKP4g=",
            "content_base64sha512": "q+O1swp57x/sngXtQW6uCxSfcxbENJgps2TPWHdcB45eeC8hxrQrs6cZ2zbscTbzfg95dpdhbNWcPOhayCjQDA==",
            "content_md5": "4b133a5f2abaa4a7db462bc5fb17c45e",
            "content_sha1": "15f05c8f18ea11d01bdc283b0df8e4de4295af68",
            "content_sha256": "d3fd9518d42837995a40842ca13a783c9f89516868285bbf54c86745134a3f88",
            "content_sha512": "abe3b5b30a79ef1fec9e05ed416eae0b149f7316c4349829b364cf58775c078e5e782f21c6b42bb3a719db36ec7136f37e0f797697616cd59c3ce85ac828d00c",
            "filename": "appsync/templates/update_order_item_request.vtl",
            "id": "15f05c8f18ea11d01bdc283b0df8e4de4295af68"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "data",
      "type": "local_file",
      "name": "update_order_item_response",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[1][0])",
            "content_base64": "I2lmKCRjdHguZXJyb3IpCiAgICAkdXRpbHMuZXJyb3IoJGN0eC5lcnJvci5tZXNzYWdlLCAkY3R4LmVycm9yLnR5cGUpCiNlbmQKCiR1dGlscy50b0pzb24oJHV0aWxzLnJkcy50b0pzb25PYmplY3QoJGN0eC5yZXN1bHQpWzFdWzBdKQ==",
            "content_base64sha256": "jl/Qe4LfHPs9lzhie1JKmkHl8XcRlV8QNcgCEy9Gunc=",
            "content_base64sha512": "wBw5/thqXsmJ6CuL4XJBh1CCEpTRv+Ey+n+mgW9ixwvbs6SGH3w1UBrqBEyUYSVDJwsPumm519nHzO8w9kidtA==",
            "content_md5": "9e1c940cb6d02bf1bd1a4c05e5cb802d",
            "content_sha1": "8b26730c55c5b58ab254d1ea3736e4672e9effb4",
            "content_sha256": "8e5fd07b82df1cfb3d9738627b524a9a41e5f17711955f1035c802132f46ba77",
            "content_sha512": "c01c39fed86a5ec989e82b8be172418750821294d1bfe132fa7fa6816f62c70bdbb3a4861f7c35501aea044c94612543270b0fba69b9d7d9c7ccef30f6489db4",
            "filename": "appsync/templates/update_order_item_response.vtl",
            "id": "8b26730c55c5b58ab254d1ea3736e4672e9effb4"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_api_key",
      "name": "cognito_api_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "description": "Managed by Terraform",
            "expires": "2024-05-24T03:00:00Z",
            "id": "xmlepduov5chvdq4wqjozm4hua:da2-zi75miwg25ddlnvrfzhnq3xffu",
            "key": "da2-zi75miwg25ddlnvrfzhnq3xffu"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_datasource",
      "name": "cognito_user_lambda",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/datasources/CognitoUser",
            "description": "",
            "dynamodb_config": [],
            "elasticsearch_config": [],
            "event_bridge_config": [],
            "http_config": [],
            "id": "xmlepduov5chvdq4wqjozm4hua-CognitoUser",
            "lambda_config": [
              {
                "function_arn": "arn:aws:lambda:us-east-1:617942035950:function:cognito-user-function"
              }
            ],
            "name": "CognitoUser",
            "opensearchservice_config": [],
            "relational_database_config": [],
            "service_role_arn": "arn:aws:iam::617942035950:role/restaurant-manager-appsync",
            "type": "AWS_LAMBDA"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.iam.aws_iam_role.appsync-role",
            "module.iam.aws_iam_role.lambda-role",
            "module.lambda.aws_lambda_function.cognito-user"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_function",
      "name": "create_cognito_user_lambda",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/functions/fuozoqsfhnfedeflkisc3o3fk4",
            "code": "",
            "data_source": "CognitoUser",
            "description": "",
            "function_id": "fuozoqsfhnfedeflkisc3o3fk4",
            "function_version": "2018-05-29",
            "id": "xmlepduov5chvdq4wqjozm4hua-fuozoqsfhnfedeflkisc3o3fk4",
            "max_batch_size": 0,
            "name": "CreateCognitoUser",
            "request_mapping_template": "#set($data = {\n    \"action\": \"CREATE\",\n    \"email\": $ctx.args.input.email,\n    \"password\": $ctx.args.input.password,\n    \"name\": $ctx.args.input.name,\n    \"address\": $ctx.args.input.address,\n    \"phone\": $ctx.args.input.phone\n})\n{\n  \"operation\": \"Invoke\",\n  \"payload\": $util.toJson($data)\n}",
            "response_mapping_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($context.result)",
            "runtime": [],
            "sync_config": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_datasource.cognito_user_lambda",
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.create_cognito_user_request",
            "module.appsync.data.local_file.create_cognito_user_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role",
            "module.iam.aws_iam_role.lambda-role",
            "module.lambda.aws_lambda_function.cognito-user"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_function",
      "name": "create_restaurant_function",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/functions/psxl6zs3kvehjphu2ll5nnezki",
            "code": "",
            "data_source": "AuroraRDS",
            "description": "",
            "function_id": "psxl6zs3kvehjphu2ll5nnezki",
            "function_version": "2018-05-29",
            "id": "xmlepduov5chvdq4wqjozm4hua-psxl6zs3kvehjphu2ll5nnezki",
            "max_batch_size": 0,
            "name": "CreateRestaurantFunction",
            "request_mapping_template": "#set($address=$util.defaultIfNullOrEmpty($ctx.prev.result.address, ''))\n#set($phone=$util.defaultIfNullOrEmpty($ctx.prev.result.phone, ''))\n#set($username=$util.defaultIfNullOrEmpty($ctx.prev.result.username, ''))\n\n{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"INSERT INTO restaurant.restaurants (username, name, address, phone) VALUES ('$username', '$context.args.input.name', '$address', '$phone')\",\n        \"SELECT username, name, address, phone  FROM restaurant.restaurants where username = '$username'\"\n    ]\n}\n\n\n",
            "response_mapping_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[1][0])",
            "runtime": [],
            "sync_config": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.create_restaurant_request",
            "module.appsync.data.local_file.create_restaurant_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_function",
      "name": "delete_cognito_user_lambda",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/functions/7jge6l26prgzbgqsitwn635xsm",
            "code": "",
            "data_source": "CognitoUser",
            "description": "",
            "function_id": "7jge6l26prgzbgqsitwn635xsm",
            "function_version": "2018-05-29",
            "id": "xmlepduov5chvdq4wqjozm4hua-7jge6l26prgzbgqsitwn635xsm",
            "max_batch_size": 0,
            "name": "DeleteCognitoUser",
            "request_mapping_template": "#set($data = {\n    \"action\": \"DELETE_USER\",\n    \"username\": $ctx.args.username\n})\n{\n  \"operation\": \"Invoke\",\n  \"payload\": $util.toJson($data)\n}",
            "response_mapping_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($context.result)",
            "runtime": [],
            "sync_config": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_datasource.cognito_user_lambda",
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.delete_cognito_user_lambda_request",
            "module.appsync.data.local_file.delete_cognito_user_lambda_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role",
            "module.iam.aws_iam_role.lambda-role",
            "module.lambda.aws_lambda_function.cognito-user"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_function",
      "name": "delete_restaurant_function",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/functions/kawh7iauuzf4ppsbcw6kh4eaiu",
            "code": "",
            "data_source": "AuroraRDS",
            "description": "",
            "function_id": "kawh7iauuzf4ppsbcw6kh4eaiu",
            "function_version": "2018-05-29",
            "id": "xmlepduov5chvdq4wqjozm4hua-kawh7iauuzf4ppsbcw6kh4eaiu",
            "max_batch_size": 0,
            "name": "DeleteRestaurantFunction",
            "request_mapping_template": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"DELETE FROM restaurant.restaurants WHERE username = '$ctx.prev.result.username'\"\n    ]\n}",
            "response_mapping_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0][0])",
            "runtime": [],
            "sync_config": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.delete_restaurant_function_request",
            "module.appsync.data.local_file.delete_restaurant_function_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_function",
      "name": "login_function",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/functions/n2abx7r5nnfmxjcoli35hyat2y",
            "code": "",
            "data_source": "CognitoUser",
            "description": "",
            "function_id": "n2abx7r5nnfmxjcoli35hyat2y",
            "function_version": "2018-05-29",
            "id": "xmlepduov5chvdq4wqjozm4hua-n2abx7r5nnfmxjcoli35hyat2y",
            "max_batch_size": 0,
            "name": "LoginFunction",
            "request_mapping_template": "#set($data = {\n    \"action\": \"LOGIN\",\n    \"username\": $ctx.args.input.email,\n    \"password\": $ctx.args.input.password\n})\n{\n  \"operation\": \"Invoke\",\n  \"payload\": $util.toJson($data)\n}",
            "response_mapping_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($context.result)",
            "runtime": [],
            "sync_config": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_datasource.cognito_user_lambda",
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.login_function_request",
            "module.appsync.data.local_file.login_function_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role",
            "module.iam.aws_iam_role.lambda-role",
            "module.lambda.aws_lambda_function.cognito-user"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_graphql_api",
      "name": "appsync_api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "additional_authentication_provider": [
              {
                "authentication_type": "API_KEY",
                "lambda_authorizer_config": [],
                "openid_connect_config": [],
                "user_pool_config": []
              }
            ],
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua",
            "authentication_type": "AMAZON_COGNITO_USER_POOLS",
            "id": "xmlepduov5chvdq4wqjozm4hua",
            "lambda_authorizer_config": [],
            "log_config": [],
            "name": "Cognito",
            "openid_connect_config": [],
            "schema": "schema {\n    query: Query\n    mutation: Mutation\n}\n\ntype Query {\n    getMenue(restaurantUsername:String!): [MenueItem]\n    getRestaurant(id:String!): Restaurant!\n    listOrder(filter:ListOrder!): [Order]\n    listOrderItems(orderId:String!):[OrderItem]\n    listInvoice(restaurantUsername:String!): [Invoice]\n}\n\ntype Mutation {\n    addMenueItem(input: AddMenueItem!): MenueItem\n    deleteMenueItem(id:String!): String\n    createRestaurant(input: CreateRestaurant!): CreateResponse @aws_api_key\n    login(input: Login): LoginResponse @aws_api_key\n    deleteRestaurant(username:String!): String\n    createOrder(input: CreateOrder!): Order\n    deleteOrder(id:String!): String\n    addOrderItem(input: CreateOrderItem): OrderItem\n    updateOrderItem(input: UpdateOrderItem): OrderItem\n    removeOrderItem(input: RemoveOrderItem): String\n    createInvoice(input: CreateInvoice!): Invoice\n}\n\ninput Login {\n    email: String!\n    password: String!\n}\n\ntype LoginResponse @aws_api_key {\n    accessToken: String!\n    username: String!\n}\n\ntype MenueItem {\n    id: String\n    name: String!\n    description: String\n    price: Int!\n}\n\ninput AddMenueItem {\n    restaurantUsername: String!\n    name: String!\n    description: String\n    price: Int!\n}\n\ntype CreateResponse @aws_api_key {\n    username: String!\n    name: String!\n    address: String\n    phone: String\n}\n\ntype Restaurant {\n    username: String!\n    name: String!\n    address: String\n    phone: String\n}\n\ninput CreateRestaurant {\n    email: String!\n    password: String!\n    name: String!\n    address: String\n    phone: String\n}\n\ntype Order {\n    id: String!\n    restaurant_username: String!\n    customer_name: String!\n    customer_phone: String!\n    order_status: OrderStatus\n    order_date: String\n}\n\ninput CreateOrder {\n    restaurantUsername: String!\n    customerName: String!\n    customerPhone: String!\n}\n\ninput ListOrder {\n    restaurantUsername: String!\n    status: OrderStatus\n}\n\nenum OrderStatus {\n\treceived\n\tpreparing\n\tdone\n}\n\ntype OrderItem {\n    id: ID!\n    order_id: String!\n    menue_item_id: String!\n    quantity: Int!\n    name: String\n    price: Int\n}\n\ninput CreateOrderItem {\n    orderId: String!\n    menueItemId: String!\n    quantity: Int!\n}\n\ninput UpdateOrderItem {\n    orderId: String!\n    menueItemId: String!\n    quantity: Int!\n}\n\ninput RemoveOrderItem {\n    orderId: String!\n    menueItemId: String!\n}\n\ntype Invoice {\n    id: ID!\n    order_id: String!\n    amount: Int!\n    payment_date: String\n}\n\ninput CreateInvoice {\n    orderId: String!\n}",
            "tags": {},
            "tags_all": {},
            "uris": {
              "GRAPHQL": "https://qwphd5stbnhvfn3ejsipkdoqr4.appsync-api.us-east-1.amazonaws.com/graphql",
              "REALTIME": "wss://qwphd5stbnhvfn3ejsipkdoqr4.appsync-realtime-api.us-east-1.amazonaws.com/graphql"
            },
            "user_pool_config": [
              {
                "app_id_client_regex": "7631et1idc3fluqm2j9bns2gj3",
                "aws_region": "us-east-1",
                "default_action": "ALLOW",
                "user_pool_id": "us-east-1_LZKDZVAPK"
              }
            ],
            "xray_enabled": false
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.data.local_file.appsync_schema",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "add_menue_item",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Mutation/resolvers/addMenueItem",
            "caching_config": [],
            "code": "",
            "data_source": "AuroraRDS",
            "field": "addMenueItem",
            "id": "xmlepduov5chvdq4wqjozm4hua-Mutation-addMenueItem",
            "kind": "UNIT",
            "max_batch_size": 0,
            "pipeline_config": [],
            "request_template": "#foreach($item in $context.args.input.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n#foreach($item in $context.args.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n\n#set($process_id=$utils.autoId())\n#set($description=$util.defaultIfNullOrEmpty($ctx.args.input.description, ''))\n\n{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"INSERT INTO restaurant.menu_items (id, restaurant_username, name, description, price) VALUES ('$process_id','$context.args.input.restaurantUsername', '$context.args.input.name', '$description', '$context.args.input.price')\",\n        \"SELECT id, name, description, price FROM restaurant.menu_items WHERE id = '$process_id'\"\n    ]\n}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[1][0])",
            "runtime": [],
            "sync_config": [],
            "type": "Mutation"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.add_menue_item_request",
            "module.appsync.data.local_file.add_menue_item_response",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "add_order_item",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Mutation/resolvers/addOrderItem",
            "caching_config": [],
            "code": "",
            "data_source": "AuroraRDS",
            "field": "addOrderItem",
            "id": "xmlepduov5chvdq4wqjozm4hua-Mutation-addOrderItem",
            "kind": "UNIT",
            "max_batch_size": 0,
            "pipeline_config": [],
            "request_template": "#foreach($item in $context.args.input.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n#foreach($item in $context.args.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n\n#set($process_id=$utils.autoId())\n\n{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"INSERT INTO restaurant.order_items (id, order_id, menu_item_id, quantity) VALUES ('$process_id','$context.args.input.orderId', '$context.args.input.menueItemId', '$context.args.input.quantity')\",\n        \"SELECT id, order_id, menu_item_id, quantity FROM restaurant.order_items WHERE id = '$process_id'\"\n    ]\n}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[1][0])",
            "runtime": [],
            "sync_config": [],
            "type": "Mutation"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.add_order_item_request",
            "module.appsync.data.local_file.add_order_item_response",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "create_invoice",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Mutation/resolvers/createInvoice",
            "caching_config": [],
            "code": "",
            "data_source": "AuroraRDS",
            "field": "createInvoice",
            "id": "xmlepduov5chvdq4wqjozm4hua-Mutation-createInvoice",
            "kind": "UNIT",
            "max_batch_size": 0,
            "pipeline_config": [],
            "request_template": "#foreach($item in $context.args.input.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n#foreach($item in $context.args.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n\n#set($process_id=$utils.autoId())\n\n{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"INSERT INTO restaurant.invoices (id, order_id, amount) VALUES ('$process_id','$context.args.input.orderId', SELECT SUM(oi.quantity * mi.price) FROM restaurant.order_items oi INNER JOIN restaurant.menue_items mi on oi.menu_item_id = mi.id WHERE oi.order_id = '$context.args.input.orderId')\",\n        \"SELECT id, order_id, amount, payment_date FROM restaurant.invoices WHERE id = '$process_id'\"\n    ]\n}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[1][0])",
            "runtime": [],
            "sync_config": [],
            "type": "Mutation"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.create_invoice_request",
            "module.appsync.data.local_file.create_invoice_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "create_order",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Mutation/resolvers/createOrder",
            "caching_config": [],
            "code": "",
            "data_source": "AuroraRDS",
            "field": "createOrder",
            "id": "xmlepduov5chvdq4wqjozm4hua-Mutation-createOrder",
            "kind": "UNIT",
            "max_batch_size": 0,
            "pipeline_config": [],
            "request_template": "#set($address=$util.defaultIfNullOrEmpty($ctx.prev.result.address, ''))\n#set($phone=$util.defaultIfNullOrEmpty($ctx.prev.result.phone, ''))\n#set($username=$util.defaultIfNullOrEmpty($ctx.prev.result.username, ''))\n\n#set($process_id=$utils.autoId())\n\n{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"INSERT INTO restaurant.orders (id, restaurant_username, customer_name, customer_phone, order_status) VALUES ('$process_id', '$context.args.input.restaurantUsername', '$context.args.input.customerName', '$context.args.input.customerPhone', 'received')\",\n        \"SELECT id, restaurant_username, customer_name, customer_phone, order_status, order_date  FROM restaurant.orders WHERE id = '$process_id'\"\n    ]\n}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[1][0])",
            "runtime": [],
            "sync_config": [],
            "type": "Mutation"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.create_order_request",
            "module.appsync.data.local_file.create_order_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "create_restaurant",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Mutation/resolvers/createRestaurant",
            "caching_config": [],
            "code": "",
            "data_source": "",
            "field": "createRestaurant",
            "id": "xmlepduov5chvdq4wqjozm4hua-Mutation-createRestaurant",
            "kind": "PIPELINE",
            "max_batch_size": 0,
            "pipeline_config": [
              {
                "functions": [
                  "fuozoqsfhnfedeflkisc3o3fk4",
                  "psxl6zs3kvehjphu2ll5nnezki"
                ]
              }
            ],
            "request_template": "#foreach($item in $context.args.input.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n#foreach($item in $context.args.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n{}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($context.prev.result)",
            "runtime": [],
            "sync_config": [],
            "type": "Mutation"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_datasource.cognito_user_lambda",
            "module.appsync.aws_appsync_function.create_cognito_user_lambda",
            "module.appsync.aws_appsync_function.create_restaurant_function",
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.create_cognito_user_request",
            "module.appsync.data.local_file.create_cognito_user_response",
            "module.appsync.data.local_file.create_restaurant_request",
            "module.appsync.data.local_file.create_restaurant_response",
            "module.appsync.data.local_file.pipeline_after_request",
            "module.appsync.data.local_file.pipeline_before_request",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role",
            "module.iam.aws_iam_role.lambda-role",
            "module.lambda.aws_lambda_function.cognito-user"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "delete_menue_item",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Mutation/resolvers/deleteMenueItem",
            "caching_config": [],
            "code": "",
            "data_source": "AuroraRDS",
            "field": "deleteMenueItem",
            "id": "xmlepduov5chvdq4wqjozm4hua-Mutation-deleteMenueItem",
            "kind": "UNIT",
            "max_batch_size": 0,
            "pipeline_config": [],
            "request_template": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"DELETE FROM restaurant.menu_items WHERE id = '$ctx.arguments.id'\"\n    ]\n}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0][0])",
            "runtime": [],
            "sync_config": [],
            "type": "Mutation"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.delete_menue_item_request",
            "module.appsync.data.local_file.delete_menue_item_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "delete_order",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Mutation/resolvers/deleteOrder",
            "caching_config": [],
            "code": "",
            "data_source": "AuroraRDS",
            "field": "deleteOrder",
            "id": "xmlepduov5chvdq4wqjozm4hua-Mutation-deleteOrder",
            "kind": "UNIT",
            "max_batch_size": 0,
            "pipeline_config": [],
            "request_template": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"DELETE FROM restaurant.orders WHERE id = '$ctx.arguments.id'\"\n    ]\n}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0][0])",
            "runtime": [],
            "sync_config": [],
            "type": "Mutation"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.delete_order_request",
            "module.appsync.data.local_file.delete_order_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "delete_restaurant",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Mutation/resolvers/deleteRestaurant",
            "caching_config": [],
            "code": "",
            "data_source": "",
            "field": "deleteRestaurant",
            "id": "xmlepduov5chvdq4wqjozm4hua-Mutation-deleteRestaurant",
            "kind": "PIPELINE",
            "max_batch_size": 0,
            "pipeline_config": [
              {
                "functions": [
                  "7jge6l26prgzbgqsitwn635xsm",
                  "kawh7iauuzf4ppsbcw6kh4eaiu"
                ]
              }
            ],
            "request_template": "#foreach($item in $context.args.input.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n#foreach($item in $context.args.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n{}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($context.prev.result)",
            "runtime": [],
            "sync_config": [],
            "type": "Mutation"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_datasource.cognito_user_lambda",
            "module.appsync.aws_appsync_function.delete_cognito_user_lambda",
            "module.appsync.aws_appsync_function.delete_restaurant_function",
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.delete_cognito_user_lambda_request",
            "module.appsync.data.local_file.delete_cognito_user_lambda_response",
            "module.appsync.data.local_file.delete_restaurant_function_request",
            "module.appsync.data.local_file.delete_restaurant_function_response",
            "module.appsync.data.local_file.pipeline_after_request",
            "module.appsync.data.local_file.pipeline_before_request",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role",
            "module.iam.aws_iam_role.lambda-role",
            "module.lambda.aws_lambda_function.cognito-user"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "get_menue",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Query/resolvers/getMenue",
            "caching_config": [],
            "code": "",
            "data_source": "AuroraRDS",
            "field": "getMenue",
            "id": "xmlepduov5chvdq4wqjozm4hua-Query-getMenue",
            "kind": "UNIT",
            "max_batch_size": 0,
            "pipeline_config": [],
            "request_template": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n         \"SELECT id, name, description, price FROM restaurant.menu_items WHERE restaurant_username = '$ctx.args.restaurantUsername'\"\n    ]\n}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0])",
            "runtime": [],
            "sync_config": [],
            "type": "Query"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.get_menue_request",
            "module.appsync.data.local_file.get_menue_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "get_restaurant",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Query/resolvers/getRestaurant",
            "caching_config": [],
            "code": "",
            "data_source": "AuroraRDS",
            "field": "getRestaurant",
            "id": "xmlepduov5chvdq4wqjozm4hua-Query-getRestaurant",
            "kind": "UNIT",
            "max_batch_size": 0,
            "pipeline_config": [],
            "request_template": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"SELECT username, name, address, phone FROM restaurant.restaurants WHERE username = '$ctx.args.id'\"\n    ]\n}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0][0])\n\n\n",
            "runtime": [],
            "sync_config": [],
            "type": "Query"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.get_restaurant_request",
            "module.appsync.data.local_file.get_restaurant_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "list_invoice",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Query/resolvers/listInvoice",
            "caching_config": [],
            "code": "",
            "data_source": "AuroraRDS",
            "field": "listInvoice",
            "id": "xmlepduov5chvdq4wqjozm4hua-Query-listInvoice",
            "kind": "UNIT",
            "max_batch_size": 0,
            "pipeline_config": [],
            "request_template": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"SELECT id, order_id, amount, payment_date FROM restaurant.invoices WHERE order_id in (SELECT id FROM restaurants.orders WHERE restaurant_username = '$ctx.args.restaurantUsername')\"\n    ]\n}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0])",
            "runtime": [],
            "sync_config": [],
            "type": "Query"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.list_invoice_request",
            "module.appsync.data.local_file.list_invoice_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "list_order",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Query/resolvers/listOrder",
            "caching_config": [],
            "code": "",
            "data_source": "AuroraRDS",
            "field": "listOrder",
            "id": "xmlepduov5chvdq4wqjozm4hua-Query-listOrder",
            "kind": "UNIT",
            "max_batch_size": 0,
            "pipeline_config": [],
            "request_template": "#if($ctx.args.filter.status)\n    {\n        \"version\": \"2018-05-29\",\n        \"statements\": [\n            \"SELECT id, restaurant_username, customer_name, customer_phone, order_status, order_date  FROM restaurant.orders WHERE restaurant_username = '$ctx.args.filter.restaurantUsername' AND order_status = '$ctx.args.filter.status'\"\n        ]\n    }\n#else\n    {\n        \"version\": \"2018-05-29\",\n        \"statements\": [\n            \"SELECT id, restaurant_username, customer_name, customer_phone, order_status, order_date  FROM restaurant.orders WHERE restaurant_username = '$ctx.args.filter.restaurantUsername'\"\n        ]\n    }\n#end\n\n\n",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0])",
            "runtime": [],
            "sync_config": [],
            "type": "Query"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.list_order_request",
            "module.appsync.data.local_file.list_order_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "list_order_items",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Query/resolvers/listOrderItems",
            "caching_config": [],
            "code": "",
            "data_source": "AuroraRDS",
            "field": "listOrderItems",
            "id": "xmlepduov5chvdq4wqjozm4hua-Query-listOrderItems",
            "kind": "UNIT",
            "max_batch_size": 0,
            "pipeline_config": [],
            "request_template": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"SELECT id, order_id, menu_item_id, quantity, mi.name as name, mi.price as price FROM restaurant.order_items oi RIGHT JOIN restaurant.menue_items mi on oi.menu_item_id = mi.id  WHERE order_id = 'ctx.args.orderId'\"\n    ]\n}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0])",
            "runtime": [],
            "sync_config": [],
            "type": "Query"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.list_order_items_request",
            "module.appsync.data.local_file.list_order_items_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "login",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Mutation/resolvers/login",
            "caching_config": [],
            "code": "",
            "data_source": "",
            "field": "login",
            "id": "xmlepduov5chvdq4wqjozm4hua-Mutation-login",
            "kind": "PIPELINE",
            "max_batch_size": 0,
            "pipeline_config": [
              {
                "functions": [
                  "n2abx7r5nnfmxjcoli35hyat2y"
                ]
              }
            ],
            "request_template": "#foreach($item in $context.args.input.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n#foreach($item in $context.args.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n{}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($context.prev.result)",
            "runtime": [],
            "sync_config": [],
            "type": "Mutation"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_datasource.cognito_user_lambda",
            "module.appsync.aws_appsync_function.login_function",
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.login_function_request",
            "module.appsync.data.local_file.login_function_response",
            "module.appsync.data.local_file.pipeline_after_request",
            "module.appsync.data.local_file.pipeline_before_request",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role",
            "module.iam.aws_iam_role.lambda-role",
            "module.lambda.aws_lambda_function.cognito-user"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "remove_order_item",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Mutation/resolvers/removeOrderItem",
            "caching_config": [],
            "code": "",
            "data_source": "AuroraRDS",
            "field": "removeOrderItem",
            "id": "xmlepduov5chvdq4wqjozm4hua-Mutation-removeOrderItem",
            "kind": "UNIT",
            "max_batch_size": 0,
            "pipeline_config": [],
            "request_template": "{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"DELETE FROM restaurant.orders WHERE order_id = '$context.args.input.orderId' AND menu_item_id = '$context.args.input.menueItemId'\"\n    ]\n}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[0][0])",
            "runtime": [],
            "sync_config": [],
            "type": "Mutation"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.remove_order_item_request",
            "module.appsync.data.local_file.remove_order_item_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_appsync_resolver",
      "name": "update_order_item",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_id": "xmlepduov5chvdq4wqjozm4hua",
            "arn": "arn:aws:appsync:us-east-1:617942035950:apis/xmlepduov5chvdq4wqjozm4hua/types/Mutation/resolvers/updateOrderItem",
            "caching_config": [],
            "code": "",
            "data_source": "AuroraRDS",
            "field": "updateOrderItem",
            "id": "xmlepduov5chvdq4wqjozm4hua-Mutation-updateOrderItem",
            "kind": "UNIT",
            "max_batch_size": 0,
            "pipeline_config": [],
            "request_template": "#foreach($item in $context.args.input.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n#foreach($item in $context.args.entrySet())\n    #set($item.value=$item.value.replace(\"'\", \"''\"))\n    #set($item.value=$item.value.replace(\"\\\", \"\\\\\\\\\"))\n    #set($item.value=$item.value.replace('\"', '\\\\\\\"'))\n#end\n\n#set($process_id=$utils.autoId())\n\n{\n    \"version\": \"2018-05-29\",\n    \"statements\": [\n        \"UPDATE restaurant.order_items SET quantity = '$context.args.input.quantity' WHERE order_id = '$context.args.input.orderId' AND menu_item_id = '$context.args.input.menueItemId')\",\n        \"SELECT id, order_id, menu_item_id, quantity FROM restaurant.order_items WHERE id = '$process_id'\"\n    ]\n}",
            "response_template": "#if($ctx.error)\n    $utils.error($ctx.error.message, $ctx.error.type)\n#end\n\n$utils.toJson($utils.rds.toJsonObject($ctx.result)[1][0])",
            "runtime": [],
            "sync_config": [],
            "type": "Mutation"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.appsync.data.local_file.update_order_item_request",
            "module.appsync.data.local_file.update_order_item_response",
            "module.appsync.null_resource.appsync_rds_datasource",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_ssm_parameter",
      "name": "graphql_cognito_api_id",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allowed_pattern": "",
            "arn": "arn:aws:ssm:eu-central-1:617942035950:parameter/restaurant-manager/appsync/graphql/cognito/id",
            "data_type": "text",
            "description": "",
            "id": "/restaurant-manager/appsync/graphql/cognito/id",
            "insecure_value": null,
            "key_id": "",
            "name": "/restaurant-manager/appsync/graphql/cognito/id",
            "overwrite": true,
            "tags": null,
            "tags_all": {},
            "tier": "Standard",
            "type": "String",
            "value": "xmlepduov5chvdq4wqjozm4hua",
            "version": 1
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_ssm_parameter",
      "name": "graphql_cognito_api_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allowed_pattern": "",
            "arn": "arn:aws:ssm:eu-central-1:617942035950:parameter/restaurant-manager/appsync/graphql/cognito/apikey",
            "data_type": "text",
            "description": "",
            "id": "/restaurant-manager/appsync/graphql/cognito/apikey",
            "insecure_value": null,
            "key_id": "",
            "name": "/restaurant-manager/appsync/graphql/cognito/apikey",
            "overwrite": null,
            "tags": null,
            "tags_all": {},
            "tier": "Standard",
            "type": "String",
            "value": "da2-zi75miwg25ddlnvrfzhnq3xffu",
            "version": 1
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_api_key.cognito_api_key",
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "aws_ssm_parameter",
      "name": "graphql_cognito_endpoint",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "allowed_pattern": "",
            "arn": "arn:aws:ssm:eu-central-1:617942035950:parameter/restaurant-manager/appsync/graphql/cognito/endpoint",
            "data_type": "text",
            "description": "",
            "id": "/restaurant-manager/appsync/graphql/cognito/endpoint",
            "insecure_value": null,
            "key_id": "",
            "name": "/restaurant-manager/appsync/graphql/cognito/endpoint",
            "overwrite": true,
            "tags": null,
            "tags_all": {},
            "tier": "Standard",
            "type": "String",
            "value": "https://qwphd5stbnhvfn3ejsipkdoqr4.appsync-api.us-east-1.amazonaws.com/graphql",
            "version": 1
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client"
          ]
        }
      ]
    },
    {
      "module": "module.appsync",
      "mode": "managed",
      "type": "null_resource",
      "name": "appsync_rds_datasource",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2856420940522935115",
            "triggers": {
              "appsync_api_id": "xmlepduov5chvdq4wqjozm4hua",
              "appsync_region": "us-east-1"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.appsync.aws_appsync_graphql_api.appsync_api",
            "module.appsync.data.local_file.appsync_schema",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.cognito",
      "mode": "managed",
      "type": "aws_cognito_user_group",
      "name": "admin",
      "provider": "module.cognito.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "id": "us-east-1_LZKDZVAPK/admin",
            "name": "admin",
            "precedence": 0,
            "role_arn": "",
            "user_pool_id": "us-east-1_LZKDZVAPK"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.cognito.aws_cognito_user_pool.pool"
          ]
        }
      ]
    },
    {
      "module": "module.cognito",
      "mode": "managed",
      "type": "aws_cognito_user_pool",
      "name": "pool",
      "provider": "module.cognito.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_recovery_setting": [
              {
                "recovery_mechanism": [
                  {
                    "name": "verified_email",
                    "priority": 1
                  }
                ]
              }
            ],
            "admin_create_user_config": [
              {
                "allow_admin_create_user_only": false,
                "invite_message_template": []
              }
            ],
            "alias_attributes": null,
            "arn": "arn:aws:cognito-idp:us-east-1:617942035950:userpool/us-east-1_LZKDZVAPK",
            "auto_verified_attributes": [
              "email"
            ],
            "creation_date": "2023-05-25T20:04:19Z",
            "custom_domain": "",
            "deletion_protection": "INACTIVE",
            "device_configuration": [],
            "domain": "",
            "email_configuration": [
              {
                "configuration_set": "",
                "email_sending_account": "COGNITO_DEFAULT",
                "from_email_address": "",
                "reply_to_email_address": "",
                "source_arn": ""
              }
            ],
            "email_verification_message": "Your reset password validation code is: {####}",
            "email_verification_subject": "Reset password code",
            "endpoint": "cognito-idp.us-east-1.amazonaws.com/us-east-1_LZKDZVAPK",
            "estimated_number_of_users": 5,
            "id": "us-east-1_LZKDZVAPK",
            "lambda_config": [],
            "last_modified_date": "2023-05-27T15:34:20Z",
            "mfa_configuration": "OPTIONAL",
            "name": "restaurant-manager",
            "password_policy": [
              {
                "minimum_length": 8,
                "require_lowercase": true,
                "require_numbers": true,
                "require_symbols": false,
                "require_uppercase": true,
                "temporary_password_validity_days": 7
              }
            ],
            "schema": [
              {
                "attribute_data_type": "String",
                "developer_only_attribute": false,
                "mutable": true,
                "name": "email",
                "number_attribute_constraints": [],
                "required": true,
                "string_attribute_constraints": [
                  {
                    "max_length": "100",
                    "min_length": "7"
                  }
                ]
              }
            ],
            "sms_authentication_message": "",
            "sms_configuration": [],
            "sms_verification_message": "",
            "software_token_mfa_configuration": [
              {
                "enabled": false
              }
            ],
            "tags": {
              "Name": "restaurant-manager"
            },
            "tags_all": {
              "Name": "restaurant-manager"
            },
            "user_attribute_update_settings": [],
            "user_pool_add_ons": [
              {
                "advanced_security_mode": "OFF"
              }
            ],
            "username_attributes": [
              "email"
            ],
            "username_configuration": [],
            "verification_message_template": [
              {
                "default_email_option": "CONFIRM_WITH_CODE",
                "email_message": "Your reset password validation code is: {####}",
                "email_message_by_link": "",
                "email_subject": "Reset password code",
                "email_subject_by_link": "",
                "sms_message": ""
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.cognito",
      "mode": "managed",
      "type": "aws_cognito_user_pool_client",
      "name": "client",
      "provider": "module.cognito.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_token_validity": 0,
            "allowed_oauth_flows": [],
            "allowed_oauth_flows_user_pool_client": false,
            "allowed_oauth_scopes": [],
            "analytics_configuration": [],
            "auth_session_validity": 3,
            "callback_urls": [],
            "client_secret": "",
            "default_redirect_uri": "",
            "enable_propagate_additional_user_context_data": false,
            "enable_token_revocation": true,
            "explicit_auth_flows": [
              "ADMIN_NO_SRP_AUTH",
              "USER_PASSWORD_AUTH"
            ],
            "generate_secret": false,
            "id": "7631et1idc3fluqm2j9bns2gj3",
            "id_token_validity": 0,
            "logout_urls": [],
            "name": "restaurant-manager",
            "prevent_user_existence_errors": "",
            "read_attributes": [],
            "refresh_token_validity": 30,
            "supported_identity_providers": [],
            "token_validity_units": [],
            "user_pool_id": "us-east-1_LZKDZVAPK",
            "write_attributes": []
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.cognito.aws_cognito_user_pool.pool"
          ]
        }
      ]
    },
    {
      "module": "module.cognito",
      "mode": "managed",
      "type": "aws_ssm_parameter",
      "name": "email",
      "provider": "module.cognito.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allowed_pattern": "",
            "arn": "arn:aws:ssm:us-east-1:617942035950:parameter/restaurant-manager/app/users/root/email",
            "data_type": "text",
            "description": "",
            "id": "/restaurant-manager/app/users/root/email",
            "insecure_value": null,
            "key_id": "",
            "name": "/restaurant-manager/app/users/root/email",
            "overwrite": null,
            "tags": {},
            "tags_all": {},
            "tier": "Standard",
            "type": "String",
            "value": "test@example.com",
            "version": 1
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.cognito",
      "mode": "managed",
      "type": "aws_ssm_parameter",
      "name": "password",
      "provider": "module.cognito.provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allowed_pattern": "",
            "arn": "arn:aws:ssm:us-east-1:617942035950:parameter/restaurant-manager/app/users/root/password",
            "data_type": "text",
            "description": "",
            "id": "/restaurant-manager/app/users/root/password",
            "insecure_value": null,
            "key_id": "",
            "name": "/restaurant-manager/app/users/root/password",
            "overwrite": null,
            "tags": {},
            "tags_all": {},
            "tier": "Standard",
            "type": "String",
            "value": "Test1234",
            "version": 1
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.cognito",
      "mode": "managed",
      "type": "null_resource",
      "name": "sputnik_root_user",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "8754987058184853832",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.cognito.aws_cognito_user_pool.pool"
          ]
        }
      ]
    },
    {
      "module": "module.cognito",
      "mode": "managed",
      "type": "null_resource",
      "name": "sputnik_root_user_confirm_email",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1743443577678527565",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.null_resource.sputnik_root_user"
          ]
        }
      ]
    },
    {
      "module": "module.cognito",
      "mode": "managed",
      "type": "null_resource",
      "name": "sputnik_root_user_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "6464265015839577536",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.cognito.aws_cognito_user_group.admin",
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.null_resource.sputnik_root_user"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "aws_rds_cluster",
      "name": "cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocated_storage": 1,
            "allow_major_version_upgrade": null,
            "apply_immediately": null,
            "arn": "arn:aws:rds:us-east-1:617942035950:cluster:restaurant-manager-rds",
            "availability_zones": [
              "us-east-1b",
              "us-east-1d",
              "us-east-1f"
            ],
            "backtrack_window": 0,
            "backup_retention_period": 7,
            "cluster_identifier": "restaurant-manager-rds",
            "cluster_identifier_prefix": null,
            "cluster_members": [],
            "cluster_resource_id": "cluster-CBO7SNCO2MPGHG4YSXFSIOSCG4",
            "copy_tags_to_snapshot": false,
            "database_name": "restaurant",
            "db_cluster_instance_class": "",
            "db_cluster_parameter_group_name": "default.aurora-mysql5.7",
            "db_instance_parameter_group_name": null,
            "db_subnet_group_name": "default",
            "deletion_protection": false,
            "enable_global_write_forwarding": false,
            "enable_http_endpoint": true,
            "enabled_cloudwatch_logs_exports": [],
            "endpoint": "restaurant-manager-rds.cluster-czyhnv4qk082.us-east-1.rds.amazonaws.com",
            "engine": "aurora-mysql",
            "engine_mode": "serverless",
            "engine_version": "5.7.mysql_aurora.2.08.3",
            "engine_version_actual": "5.7.mysql_aurora.2.08.3",
            "final_snapshot_identifier": null,
            "global_cluster_identifier": "",
            "hosted_zone_id": "Z2R2ITUGPM61AM",
            "iam_database_authentication_enabled": false,
            "iam_roles": [],
            "id": "restaurant-manager-rds",
            "iops": 0,
            "kms_key_id": "arn:aws:kms:us-east-1:617942035950:key/8cf03d97-6a62-4eb9-af2f-b5e5eba95c47",
            "manage_master_user_password": null,
            "master_password": "password",
            "master_user_secret": [],
            "master_user_secret_kms_key_id": null,
            "master_username": "admin",
            "network_type": "IPV4",
            "port": 3306,
            "preferred_backup_window": "09:05-09:35",
            "preferred_maintenance_window": "wed:08:26-wed:08:56",
            "reader_endpoint": "",
            "replication_source_identifier": "",
            "restore_to_point_in_time": [],
            "s3_import": [],
            "scaling_configuration": [
              {
                "auto_pause": true,
                "max_capacity": 16,
                "min_capacity": 1,
                "seconds_until_auto_pause": 300,
                "timeout_action": "RollbackCapacityChange"
              }
            ],
            "serverlessv2_scaling_configuration": [],
            "skip_final_snapshot": true,
            "snapshot_identifier": null,
            "source_region": null,
            "storage_encrypted": true,
            "storage_type": "",
            "tags": {
              "name": "restaurant manager"
            },
            "tags_all": {
              "name": "restaurant manager"
            },
            "timeouts": null,
            "vpc_security_group_ids": [
              "sg-07398cfeac41af7b0"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo3MjAwMDAwMDAwMDAwLCJkZWxldGUiOjcyMDAwMDAwMDAwMDAsInVwZGF0ZSI6NzIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "aws_secretsmanager_secret",
      "name": "restaurant",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:617942035950:secret:restaurant-manager-rds-secret-tRBMpg",
            "description": "RDS database admin credentials for restaurant-manager-rds",
            "force_overwrite_replica_secret": false,
            "id": "arn:aws:secretsmanager:us-east-1:617942035950:secret:restaurant-manager-rds-secret-tRBMpg",
            "kms_key_id": "",
            "name": "restaurant-manager-rds-secret",
            "name_prefix": "",
            "policy": "",
            "recovery_window_in_days": 0,
            "replica": [],
            "rotation_enabled": false,
            "rotation_lambda_arn": "",
            "rotation_rules": [],
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "aws_secretsmanager_secret_version",
      "name": "restaurant",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:617942035950:secret:restaurant-manager-rds-secret-tRBMpg",
            "id": "arn:aws:secretsmanager:us-east-1:617942035950:secret:restaurant-manager-rds-secret-tRBMpg|D028B9D9-DD1A-4B29-B8BA-A1618B88588D",
            "secret_binary": "",
            "secret_id": "arn:aws:secretsmanager:us-east-1:617942035950:secret:restaurant-manager-rds-secret-tRBMpg",
            "secret_string": "{\"dbClusterIdentifier\":\"restaurant-manager-rds\",\"engine\":\"mysql\",\"host\":\"restaurant-manager-rds.cluster-czyhnv4qk082.us-east-1.rds.amazonaws.com\",\"password\":\"password\",\"port\":3306,\"username\":\"admin\"}",
            "version_id": "D028B9D9-DD1A-4B29-B8BA-A1618B88588D",
            "version_stages": [
              "AWSCURRENT"
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "aws_ssm_parameter",
      "name": "rds-secret",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allowed_pattern": "",
            "arn": "arn:aws:ssm:eu-central-1:617942035950:parameter/restaurant-manager/secrets/aurora/arn",
            "data_type": "text",
            "description": "",
            "id": "/restaurant-manager/secrets/aurora/arn",
            "insecure_value": null,
            "key_id": "",
            "name": "/restaurant-manager/secrets/aurora/arn",
            "overwrite": true,
            "tags": null,
            "tags_all": {},
            "tier": "Standard",
            "type": "String",
            "value": "arn:aws:secretsmanager:us-east-1:617942035950:secret:restaurant-manager-rds-secret-tRBMpg",
            "version": 1
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant",
            "module.database.aws_secretsmanager_secret_version.restaurant"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "null_resource",
      "name": "db_setup",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1294382807841337207",
            "triggers": {
              "file": "dfdc35a1923172e60dc43afd0ec115c427d2dfbc"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.database.aws_rds_cluster.cluster",
            "module.database.aws_secretsmanager_secret.restaurant"
          ]
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "appsync-access-rds",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::617942035950:policy/restaurant-manager-appsync-rds",
            "description": "Appsync access to RDS data and secret to get user/password for database",
            "id": "arn:aws:iam::617942035950:policy/restaurant-manager-appsync-rds",
            "name": "restaurant-manager-appsync-rds",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"rds-data:DeleteItems\",\"rds-data:ExecuteSql\",\"rds-data:GetItems\",\"rds-data:InsertItems\",\"rds-data:UpdateItems\",\"rds-data:ExecuteStatement\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:rds:us-east-1:*:cluster:*\"]},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:*:secret:*\"]},{\"Action\":\"lambda:InvokeFunction\",\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAY7YBXFXXDW2ZXCNCF",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "appsync-lambda-policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::617942035950:policy/restaurant-appsync-lambda",
            "description": "IAM policy for AppSync to invoke a lambda",
            "id": "arn:aws:iam::617942035950:policy/restaurant-appsync-lambda",
            "name": "restaurant-appsync-lambda",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"cognito-idp:AdminDeleteUser\",\"cognito-idp:AdminDisableUser\",\"cognito-idp:AdminGetUser\",\"cognito-idp:AdminResetUserPassword\",\"cognito-idp:AdminSetUserPassword\",\"cognito-idp:AdminConfirmSignUp\",\"cognito-idp:SignUp\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:cognito-idp:*:*:*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAY7YBXFXXISANXT2D6",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "appsync-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::617942035950:role/restaurant-manager-appsync",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"appsync.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-05-25T20:04:19Z",
            "description": "IAM Role for Sputnik appsync logging",
            "force_detach_policies": false,
            "id": "restaurant-manager-appsync",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::617942035950:policy/restaurant-manager-appsync-rds",
              "arn:aws:iam::aws:policy/service-role/AWSAppSyncPushToCloudWatchLogs"
            ],
            "max_session_duration": 3600,
            "name": "restaurant-manager-appsync",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "2023-05-25T20:15:53Z",
                "region": "us-east-1"
              }
            ],
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAY7YBXFXXAJYLPFAHA"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::617942035950:role/restaurant-lambda-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-05-25T20:04:19Z",
            "description": "",
            "force_detach_policies": false,
            "id": "restaurant-lambda-role",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::617942035950:policy/restaurant-appsync-lambda"
            ],
            "max_session_duration": 3600,
            "name": "restaurant-lambda-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "2023-05-25T20:16:03Z",
                "region": "us-east-1"
              }
            ],
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAY7YBXFXXDRT32SEK2"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "appsync-logs-policy-attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "restaurant-manager-appsync-20230525200420602700000003",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSAppSyncPushToCloudWatchLogs",
            "role": "restaurant-manager-appsync"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "appsync-rds-policy-attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "restaurant-manager-appsync-20230525200420291000000002",
            "policy_arn": "arn:aws:iam::617942035950:policy/restaurant-manager-appsync-rds",
            "role": "restaurant-manager-appsync"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_policy.appsync-access-rds",
            "module.iam.aws_iam_role.appsync-role"
          ]
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_policy_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "restaurant-lambda-role-20230525200420234800000001",
            "policy_arn": "arn:aws:iam::617942035950:policy/restaurant-appsync-lambda",
            "role": "restaurant-lambda-role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_policy.appsync-lambda-policy",
            "module.iam.aws_iam_role.lambda-role"
          ]
        }
      ]
    },
    {
      "module": "module.lambda",
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "cognito-user",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"].useast",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:us-east-1:617942035950:function:cognito-user-function",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "",
            "environment": [
              {
                "variables": {
                  "COGNITO_CLIENT_ID": "7631et1idc3fluqm2j9bns2gj3",
                  "COGNITO_USER_POOL": "us-east-1_LZKDZVAPK"
                }
              }
            ],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": "lambda/cognito-user-go/main.zip",
            "function_name": "cognito-user-function",
            "handler": "main",
            "id": "cognito-user-function",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:617942035950:function:cognito-user-function/invocations",
            "kms_key_arn": "",
            "last_modified": "2023-05-25T20:04:28.145+0000",
            "layers": [],
            "memory_size": 128,
            "package_type": "Zip",
            "publish": false,
            "qualified_arn": "arn:aws:lambda:us-east-1:617942035950:function:cognito-user-function:$LATEST",
            "qualified_invoke_arn": "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:617942035950:function:cognito-user-function:$LATEST/invocations",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::617942035950:role/restaurant-lambda-role",
            "runtime": "go1.x",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "skip_destroy": false,
            "snap_start": [],
            "source_code_hash": "Rj0dQcQ2GirmYcteQzS4e7IgwhsXQ0C3+sx8u43a9vo=",
            "source_code_size": 7600908,
            "tags": {},
            "tags_all": {},
            "timeout": 10,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.cognito.aws_cognito_user_pool.pool",
            "module.cognito.aws_cognito_user_pool_client.client",
            "module.iam.aws_iam_role.lambda-role"
          ]
        }
      ]
    }
  ],
  "check_results": []
}
